var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function s(t){t.forEach(n)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e,n,r){if(t){const s=l(t,e,n,r);return t[0](s)}}function l(t,n,r,s){return t[1]&&s?e(r.ctx.slice(),t[1](s(n))):r.ctx}function c(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|s[r];return t}return e.dirty|s}return e.dirty}function h(t,e,n,r,s,i){if(s){const o=l(e,n,r,i);t.p(o,s)}}function u(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function d(t){return null==t?"":t}function p(e){return e&&i(e.destroy)?e.destroy:t}function f(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function _(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function w(){return k(" ")}function y(){return k("")}function x(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function S(t,e,n){t.classList[n?"add":"remove"](e)}function z(t,e){return new t(e)}let P;function D(t){P=t}function M(){if(!P)throw new Error("Function called outside component initialization");return P}function E(){const t=M();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,r,e),s}(e,n,{cancelable:r});return s.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}function T(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const W=[],R=[],A=[],O=[],L=Promise.resolve();let I=!1;function B(){I||(I=!0,L.then(q))}function j(){return B(),L}function F(t){A.push(t)}const H=new Set;let N=0;function q(){const t=P;do{for(;N<W.length;){const t=W[N];N++,D(t),U(t.$$)}for(D(null),W.length=0,N=0;R.length;)R.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];H.has(e)||(H.add(e),e())}A.length=0}while(W.length);for(;O.length;)O.pop()();I=!1,H.clear(),D(t)}function U(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}const V=new Set;let Y;function Q(){Y={r:0,c:[],p:Y}}function X(){Y.r||s(Y.c),Y=Y.p}function K(t,e){t&&t.i&&(V.delete(t),t.i(e))}function G(t,e,n,r){if(t&&t.o){if(V.has(t))return;V.add(t),Y.c.push((()=>{V.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function J(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const o=t[i],a=e[i];if(a){for(const t in o)t in a||(r[t]=1);for(const t in a)s[t]||(n[t]=a[t],s[t]=1);t[i]=a}else for(const t in o)s[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function Z(t){return"object"==typeof t&&null!==t?t:{}}function tt(t){t&&t.c()}function et(t,e,r,o){const{fragment:a,after_update:l}=t.$$;a&&a.m(e,r),o||F((()=>{const e=t.$$.on_mount.map(n).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...e):s(e),t.$$.on_mount=[]})),l.forEach(F)}function nt(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rt(e,n,i,o,a,l,c,h=[-1]){const u=P;D(e);const d=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(u?u.$$.context:[])),callbacks:r(),dirty:h,skip_bound:!1,root:n.target||u.$$.root};c&&c(d.root);let p=!1;if(d.ctx=i?i(e,n.props||{},((t,n,...r)=>{const s=r.length?r[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),p&&function(t,e){-1===t.$$.dirty[0]&&(W.push(t),B(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),p=!0,s(d.before_update),d.fragment=!!o&&o(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(m)}else d.fragment&&d.fragment.c();n.intro&&K(e.$$.fragment),et(e,n.target,n.anchor,n.customElement),q()}D(u)}class st{$destroy(){nt(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const it=[];function ot(t,e){return{subscribe:at(t,e).subscribe}}function at(e,n=t){let r;const s=new Set;function i(t){if(o(e,t)&&(e=t,r)){const t=!it.length;for(const t of s)t[1](),it.push(t,e);if(t){for(let t=0;t<it.length;t+=2)it[t][0](it[t+1]);it.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(o,a=t){const l=[o,a];return s.add(l),1===s.size&&(r=n(i)||t),o(e),()=>{s.delete(l),0===s.size&&(r(),r=null)}}}}function lt(e,n,r){const o=!Array.isArray(e),a=o?[e]:e,l=n.length<2;return ot(r,(e=>{let r=!1;const c=[];let h=0,u=t;const d=()=>{if(h)return;u();const r=n(o?c[0]:c,e);l?e(r):u=i(r)?r:t},p=a.map(((e,n)=>function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(e,(t=>{c[n]=t,h&=~(1<<n),r&&d()}),(()=>{h|=1<<n}))));return r=!0,d(),function(){s(p),u()}}))}function ct(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)"*"===(n=s[0])?(o.push("wild"),a+="/(.*)"):":"===n?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}function ht(t){let n,r,s;const i=[t[2]];var o=t[0];function a(t){let n={};for(let t=0;t<i.length;t+=1)n=e(n,i[t]);return{props:n}}return o&&(n=z(o,a()),n.$on("routeEvent",t[7])),{c(){n&&tt(n.$$.fragment),r=y()},m(t,e){n&&et(n,t,e),g(t,r,e),s=!0},p(t,e){const s=4&e?J(i,[Z(t[2])]):{};if(o!==(o=t[0])){if(n){Q();const t=n;G(t.$$.fragment,1,0,(()=>{nt(t,1)})),X()}o?(n=z(o,a()),n.$on("routeEvent",t[7]),tt(n.$$.fragment),K(n.$$.fragment,1),et(n,r.parentNode,r)):n=null}else o&&n.$set(s)},i(t){s||(n&&K(n.$$.fragment,t),s=!0)},o(t){n&&G(n.$$.fragment,t),s=!1},d(t){t&&m(r),n&&nt(n,t)}}}function ut(t){let n,r,s;const i=[{params:t[1]},t[2]];var o=t[0];function a(t){let n={};for(let t=0;t<i.length;t+=1)n=e(n,i[t]);return{props:n}}return o&&(n=z(o,a()),n.$on("routeEvent",t[6])),{c(){n&&tt(n.$$.fragment),r=y()},m(t,e){n&&et(n,t,e),g(t,r,e),s=!0},p(t,e){const s=6&e?J(i,[2&e&&{params:t[1]},4&e&&Z(t[2])]):{};if(o!==(o=t[0])){if(n){Q();const t=n;G(t.$$.fragment,1,0,(()=>{nt(t,1)})),X()}o?(n=z(o,a()),n.$on("routeEvent",t[6]),tt(n.$$.fragment),K(n.$$.fragment,1),et(n,r.parentNode,r)):n=null}else o&&n.$set(s)},i(t){s||(n&&K(n.$$.fragment,t),s=!0)},o(t){n&&G(n.$$.fragment,t),s=!1},d(t){t&&m(r),n&&nt(n,t)}}}function dt(t){let e,n,r,s;const i=[ut,ht],o=[];function a(t,e){return t[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=y()},m(t,n){o[e].m(t,n),g(t,r,n),s=!0},p(t,[s]){let l=e;e=a(t),e===l?o[e].p(t,s):(Q(),G(o[l],1,1,(()=>{o[l]=null})),X(),n=o[e],n?n.p(t,s):(n=o[e]=i[e](t),n.c()),K(n,1),n.m(r.parentNode,r))},i(t){s||(K(n),s=!0)},o(t){G(n),s=!1},d(t){o[e].d(t),t&&m(r)}}}function pt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const ft=ot(null,(function(t){t(pt());const e=()=>{t(pt())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));lt(ft,(t=>t.location)),lt(ft,(t=>t.querystring));const gt=at(void 0);function mt(t,e,n){let{routes:r={}}=e,{prefix:s=""}=e,{restoreScrollState:i=!1}=e;class o{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=ct(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(t){if(s)if("string"==typeof s){if(!t.startsWith(s))return null;t=t.substr(s.length)||"/"}else if(s instanceof RegExp){const e=t.match(s);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(e[r+1]||"")||null}catch(t){n[this._keys[r]]=null}r++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const a=[];r instanceof Map?r.forEach(((t,e)=>{a.push(new o(e,t))})):Object.keys(r).forEach((t=>{a.push(new o(t,r[t]))}));let l=null,c=null,h={};const u=E();async function d(t,e){await j(),u(t,e)}let p=null,f=null;var g;i&&(f=t=>{p=t.state&&(t.state.__svelte_spa_router_scrollY||t.state.__svelte_spa_router_scrollX)?t.state:null},window.addEventListener("popstate",f),g=()=>{var t;(t=p)?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)},M().$$.after_update.push(g));let m=null,_=null;const v=ft.subscribe((async t=>{m=t;let e=0;for(;e<a.length;){const r=a[e].match(t.location);if(!r){e++;continue}const s={route:a[e].path,location:t.location,querystring:t.querystring,userData:a[e].userData,params:r&&"object"==typeof r&&Object.keys(r).length?r:null};if(!await a[e].checkConditions(s))return n(0,l=null),_=null,void d("conditionsFailed",s);d("routeLoading",Object.assign({},s));const i=a[e].component;if(_!=i){i.loading?(n(0,l=i.loading),_=i,n(1,c=i.loadingParams),n(2,h={}),d("routeLoaded",Object.assign({},s,{component:l,name:l.name,params:c}))):(n(0,l=null),_=null);const e=await i();if(t!=m)return;n(0,l=e&&e.default||e),_=i}return r&&"object"==typeof r&&Object.keys(r).length?n(1,c=r):n(1,c=null),n(2,h=a[e].props),void d("routeLoaded",Object.assign({},s,{component:l,name:l.name,params:c})).then((()=>{gt.set(c)}))}n(0,l=null),_=null,gt.set(void 0)}));return function(t){M().$$.on_destroy.push(t)}((()=>{v(),f&&window.removeEventListener("popstate",f)})),t.$$set=t=>{"routes"in t&&n(3,r=t.routes),"prefix"in t&&n(4,s=t.prefix),"restoreScrollState"in t&&n(5,i=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=i?"manual":"auto")},[l,c,h,r,s,i,function(e){T.call(this,t,e)},function(e){T.call(this,t,e)}]}class _t extends st{constructor(t){super(),rt(this,t,mt,dt,o,{routes:3,prefix:4,restoreScrollState:5})}}function vt(t,e,n){const r=t.slice();return r[2]=e[n],r[4]=n,r}function $t(t){let e,n,r,s=t[2]+"";return{c(){e=v("span"),n=k(s),C(e,"class",r=d(`colored-characters--tone-${t[1][t[4]]||5}`)+" svelte-189xwd4")},m(t,r){g(t,e,r),f(e,n)},p(t,i){1&i&&s!==(s=t[2]+"")&&b(n,s),2&i&&r!==(r=d(`colored-characters--tone-${t[1][t[4]]||5}`)+" svelte-189xwd4")&&C(e,"class",r)},d(t){t&&m(e)}}}function kt(e){let n,r=e[0],s=[];for(let t=0;t<r.length;t+=1)s[t]=$t(vt(e,r,t));return{c(){n=v("span");for(let t=0;t<s.length;t+=1)s[t].c()},m(t,e){g(t,n,e);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(t,[e]){if(3&e){let i;for(r=t[0],i=0;i<r.length;i+=1){const o=vt(t,r,i);s[i]?s[i].p(o,e):(s[i]=$t(o),s[i].c(),s[i].m(n,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=r.length}},i:t,o:t,d(t){t&&m(n),_(s,t)}}}function wt(t,e,n){let{characters:r=""}=e,{tones:s=[]}=e;return t.$$set=t=>{"characters"in t&&n(0,r=t.characters),"tones"in t&&n(1,s=t.tones)},[r,s]}class yt extends st{constructor(t){super(),rt(this,t,wt,kt,o,{characters:0,tones:1})}}function xt(t){let e,n,r,s;return n=new yt({props:{characters:t[0].traditional,tones:t[0].tone_marks}}),{c(){e=k(" ("),tt(n.$$.fragment),r=k(")")},m(t,i){g(t,e,i),et(n,t,i),g(t,r,i),s=!0},p(t,e){const r={};1&e&&(r.characters=t[0].traditional),1&e&&(r.tones=t[0].tone_marks),n.$set(r)},i(t){s||(K(n.$$.fragment,t),s=!0)},o(t){G(n.$$.fragment,t),s=!1},d(t){t&&m(e),nt(n,t),t&&m(r)}}}function Ct(t){let e,n,r,s,i,o,a,l,c,h=t[0].pinyin_marks+"";r=new yt({props:{characters:t[0].simplified,tones:t[0].tone_marks}});let u=t[0].simplified!=t[0].traditional&&xt(t);return{c(){e=v("div"),n=v("h1"),tt(r.$$.fragment),s=w(),u&&u.c(),i=w(),o=v("div"),a=v("h3"),l=k(h),C(n,"class","chinese-characters--character-container chinese-characters--character svelte-1vrmfre"),C(n,"data-testid","chinese-characters"),C(a,"class","chinese-characters--pinyin-container svelte-1vrmfre"),C(e,"class","chinese-characters--container svelte-1vrmfre")},m(t,h){g(t,e,h),f(e,n),et(r,n,null),f(n,s),u&&u.m(n,null),f(e,i),f(e,o),f(o,a),f(a,l),c=!0},p(t,[e]){const s={};1&e&&(s.characters=t[0].simplified),1&e&&(s.tones=t[0].tone_marks),r.$set(s),t[0].simplified!=t[0].traditional?u?(u.p(t,e),1&e&&K(u,1)):(u=xt(t),u.c(),K(u,1),u.m(n,null)):u&&(Q(),G(u,1,1,(()=>{u=null})),X()),(!c||1&e)&&h!==(h=t[0].pinyin_marks+"")&&b(l,h)},i(t){c||(K(r.$$.fragment,t),K(u),c=!0)},o(t){G(r.$$.fragment,t),G(u),c=!1},d(t){t&&m(e),nt(r),u&&u.d()}}}function bt(t,e,n){let{word:r={}}=e;return t.$$set=t=>{"word"in t&&n(0,r=t.word)},[r]}class St extends st{constructor(t){super(),rt(this,t,bt,Ct,o,{word:0})}}function zt(t){let e,n,r,s;const i=t[3].default,o=a(i,t,t[2],null);return{c(){e=v("a"),o&&o.c(),C(e,"href","javascript:void(0)"),C(e,"class","dictionary-link svelte-vhlbnn"),C(e,"data-testid","dictionary-link")},m(i,a){g(i,e,a),o&&o.m(e,null),n=!0,r||(s=x(e,"click",t[4]),r=!0)},p(t,[e]){o&&o.p&&(!n||4&e)&&h(o,i,t,t[2],n?c(i,t[2],e,null):u(t[2]),null)},i(t){n||(K(o,t),n=!0)},o(t){G(o,t),n=!1},d(t){t&&m(e),o&&o.d(t),r=!1,s()}}}function Pt(t,e,n){let{$$slots:r={},$$scope:s}=e,{link:i}=e;const o=E(),a=()=>o("open",i);return t.$$set=t=>{"link"in t&&n(1,i=t.link),"$$scope"in t&&n(2,s=t.$$scope)},[a,i,s,r,()=>a()]}class Dt extends st{constructor(t){super(),rt(this,t,Pt,zt,o,{link:1})}}function Mt(e){let n;return{c(){n=k(e[0])},m(t,e){g(t,n,e)},p(t,e){1&e&&b(n,t[0])},i:t,o:t,d(t){t&&m(n)}}}function Et(t){let e,n,r,s,i=t[0].split(t[1](t[0]))+"";return r=new Dt({props:{link:t[3](t[1](t[0])),$$slots:{default:[Tt]},$$scope:{ctx:t}}}),r.$on("open",t[4]),{c(){e=k(i),n=k(" \n\t\t"),tt(r.$$.fragment)},m(t,i){g(t,e,i),g(t,n,i),et(r,t,i),s=!0},p(t,n){(!s||1&n)&&i!==(i=t[0].split(t[1](t[0]))+"")&&b(e,i);const o={};1&n&&(o.link=t[3](t[1](t[0]))),129&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){s||(K(r.$$.fragment,t),s=!0)},o(t){G(r.$$.fragment,t),s=!1},d(t){t&&m(e),t&&m(n),nt(r,t)}}}function Tt(t){let e,n=t[2](t[1](t[0]))+"";return{c(){e=k(n)},m(t,n){g(t,e,n)},p(t,r){1&r&&n!==(n=t[2](t[1](t[0]))+"")&&b(e,n)},d(t){t&&m(e)}}}function Wt(t){let e,n,r,s,i;const o=[Et,Mt],a=[];function l(t,e){return 1&e&&(n=null),null==n&&(n=!!Rt.test(t[0])),n?0:1}return r=l(t,-1),s=a[r]=o[r](t),{c(){e=v("div"),s.c(),C(e,"class","dictionary-content--definition-item svelte-1qtxwq5")},m(t,n){g(t,e,n),a[r].m(e,null),i=!0},p(t,[n]){let i=r;r=l(t,n),r===i?a[r].p(t,n):(Q(),G(a[i],1,1,(()=>{a[i]=null})),X(),s=a[r],s?s.p(t,n):(s=a[r]=o[r](t),s.c()),K(s,1),s.m(e,null))},i(t){i||(K(s),i=!0)},o(t){G(s),i=!1},d(t){t&&m(e),a[r].d()}}}const Rt=/\s\S+\[(\S|\s\S)+.\]/g;function At(t,e,n){let{value:r}=e;const s=t=>{const e=t.split("[")[0].split("|");return{traditional:e[0],simplified:e[1]||e[0]}},i=E();return t.$$set=t=>{"value"in t&&n(0,r=t.value)},[r,t=>{const e=t.match(Rt);return e?e[0]:null},t=>{const e=s(t);return e.traditional==e.simplified?`${e.traditional}`:`${e.simplified} (${e.traditional})`},t=>s(t).traditional,t=>i("event",t.detail)]}class Ot extends st{constructor(t){super(),rt(this,t,At,Wt,o,{value:0})}}function Lt(t){let e,n,r,s=t[0].traditional+"";return{c(){e=k(" ("),n=k(s),r=k(")")},m(t,s){g(t,e,s),g(t,n,s),g(t,r,s)},p(t,e){1&e&&s!==(s=t[0].traditional+"")&&b(n,s)},d(t){t&&m(e),t&&m(n),t&&m(r)}}}function It(t){let e,n,r,s=t[0].simplified+"",i=t[0].simplified!=t[0].traditional&&Lt(t);return{c(){e=k(s),n=w(),i&&i.c(),r=y()},m(t,s){g(t,e,s),g(t,n,s),i&&i.m(t,s),g(t,r,s)},p(t,n){1&n&&s!==(s=t[0].simplified+"")&&b(e,s),t[0].simplified!=t[0].traditional?i?i.p(t,n):(i=Lt(t),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(t){t&&m(e),t&&m(n),i&&i.d(t),t&&m(r)}}}function Bt(t){let e,n,r;return n=new Dt({props:{link:t[0].traditional,$$slots:{default:[It]},$$scope:{ctx:t}}}),n.$on("open",t[1]),{c(){e=v("div"),tt(n.$$.fragment),C(e,"class","dictionary-content--mw svelte-n92ii8")},m(t,s){g(t,e,s),et(n,e,null),r=!0},p(t,[e]){const r={};1&e&&(r.link=t[0].traditional),9&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(K(n.$$.fragment,t),r=!0)},o(t){G(n.$$.fragment,t),r=!1},d(t){t&&m(e),nt(n)}}}function jt(t,e,n){let{value:r}=e;const s=E();return t.$$set=t=>{"value"in t&&n(0,r=t.value)},[r,t=>s("event",t.detail)]}class Ft extends st{constructor(t){super(),rt(this,t,jt,Bt,o,{value:0})}}function Ht(t){let e,n;const r=t[3].default,s=a(r,t,t[2],null);return{c(){e=v("div"),s&&s.c(),C(e,"class",d(t[0]())+" svelte-f173k9")},m(t,r){g(t,e,r),s&&s.m(e,null),n=!0},p(t,[e]){s&&s.p&&(!n||4&e)&&h(s,r,t,t[2],n?c(r,t[2],e,null):u(t[2]),null)},i(t){n||(K(s,t),n=!0)},o(t){G(s,t),n=!1},d(t){t&&m(e),s&&s.d(t)}}}function Nt(t,e,n){let{$$slots:r={},$$scope:s}=e,{size:i="medium"}=e;return t.$$set=t=>{"size"in t&&n(1,i=t.size),"$$scope"in t&&n(2,s=t.$$scope)},[()=>["sy-button-bar--container",`sy-button-bar--container--${i}`].join(" "),i,s,r]}class qt extends st{constructor(t){super(),rt(this,t,Nt,Ht,o,{size:1})}}function Ut(t){let e,n,r,s;const i=t[9].default,o=a(i,t,t[8],null);return{c(){e=v("button"),o&&o.c(),C(e,"class",d(t[2]())+" svelte-1te4zdw"),e.disabled=t[0],C(e,"data-testid","sy-button")},m(i,a){g(i,e,a),o&&o.m(e,null),n=!0,r||(s=x(e,"click",t[10]),r=!0)},p(t,[r]){o&&o.p&&(!n||256&r)&&h(o,i,t,t[8],n?c(i,t[8],r,null):u(t[8]),null),(!n||1&r)&&(e.disabled=t[0])},i(t){n||(K(o,t),n=!0)},o(t){G(o,t),n=!1},d(t){t&&m(e),o&&o.d(t),r=!1,s()}}}function Vt(t,e,n){let{$$slots:r={},$$scope:s}=e,{style:i="filled"}=e,{size:o="medium"}=e,{shape:a="rectangle"}=e,{disabled:l=!1}=e,{grouped:c=!1}=e,{classes:h=[]}=e;const u=E();return t.$$set=t=>{"style"in t&&n(3,i=t.style),"size"in t&&n(4,o=t.size),"shape"in t&&n(5,a=t.shape),"disabled"in t&&n(0,l=t.disabled),"grouped"in t&&n(6,c=t.grouped),"classes"in t&&n(7,h=t.classes),"$$scope"in t&&n(8,s=t.$$scope)},[l,u,()=>h.concat(["sy-button",`sy-button--${i}`,`sy-button--${o}`,`sy-button--${a}`,c?"sy-button--grouped":""]).join(" "),i,o,a,c,h,s,r,()=>u("click")]}class Yt extends st{constructor(t){super(),rt(this,t,Vt,Ut,o,{style:3,size:4,shape:5,disabled:0,grouped:6,classes:7})}}const Qt=(t,e)=>{e&&console.error(e),alert(t)},Xt=(t,e)=>({requiresRestart:t,value:e});class Kt{constructor(t){this._name=t,this._config={},this.initialized=!1}init(){return new Promise(((t,e)=>{this._db=new PouchDB(this._name),this._db.get("config").catch((t=>{if("not_found"===t.name)return{_id:"config",transparency:Xt(!0,!1),beta:Xt(!0,!1),toneColors:Xt(!0,{colors:["--sy-color--blue-3","--sy-color--yellow-1","--sy-color--red-1","--sy-color--green-3","--sy-color--grey-4"],hasCustomColors:!1})};console.error(t),e("There was an error loading user preferences. Check the logs for more details.")})).then((e=>{this._config=e,this.initialized=!0,t()})).catch((t=>{console.error(t),e("There was an error loading user preferences. Check the logs for more details.")}))}))}waitForInit(){return new Promise(((t,e)=>{const n=()=>{this.initialized?t():setTimeout(n,10)};n()}))}get(t){if(!this.initialized)return Qt("Cannot read preferences. Preferences not yet initialized."),void console.log("Trying to access property "+t);const e=this._config[t];return e||Qt(`Requested preference ${t} does not exist!`),e.value}set(t,e){if(!this.initialized)return void Qt("Cannot save preferences. Preferences not yet initialized.");const n=this._config[t];n?(n.requiresRestart&&alert("You must restart Syng for this change to take effect."),this._config[t].value=e,this._db.put(this._config).then((t=>{t.ok?this._config._rev=t.rev:Qt("Cannot save preferences. An unknown error occurred. Check the log for more details.",t)})).catch((t=>{Qt("Cannot save preferences. An unknown error occurred. Check the logs for more details.",t)}))):Qt(`Requested preference ${t} does not exist!`)}}const Gt=async()=>"debug"in await(async()=>{try{const t=await window.__TAURI__.cli.getMatches();return"run"===t.subcommand.name?t.subcommand.matches.args:t.args}catch(t){return console.error(t),{}}})();function Jt(e){let n,r,i,o,a,l,c,h,u,p,_,$=e[6](e[2])+"";return{c(){n=v("div"),r=v("p"),i=k(e[0]),o=w(),a=v("p"),l=k(e[1]),c=w(),h=v("p"),u=k($),C(r,"class","sy-list-preview-item--text sy-list-preview-item--headline svelte-14tz0cu"),C(a,"class","sy-list-preview-item--text sy-list-preview-item--subtitle svelte-14tz0cu"),C(h,"class","sy-list-preview-item--text sy-list-preview-item--content svelte-14tz0cu"),C(n,"class",d(e[8]())+" svelte-14tz0cu"),S(n,"sy-list-preview-item-container--active",e[4]&&e[5])},m(t,s){g(t,n,s),f(n,r),f(r,i),f(n,o),f(n,a),f(a,l),f(n,c),f(n,h),f(h,u),p||(_=[x(n,"click",e[10]),x(n,"keyup",e[9])],p=!0)},p(t,[e]){1&e&&b(i,t[0]),2&e&&b(l,t[1]),4&e&&$!==($=t[6](t[2])+"")&&b(u,$),48&e&&S(n,"sy-list-preview-item-container--active",t[4]&&t[5])},i:t,o:t,d(t){t&&m(n),p=!1,s(_)}}}function Zt(t,e,n){let{headline:r=""}=e,{subtitle:s=""}=e,{content:i=""}=e,{index:o}=e,{active:a=!1}=e,{highlight:l}=e;const c=E();return t.$$set=t=>{"headline"in t&&n(0,r=t.headline),"subtitle"in t&&n(1,s=t.subtitle),"content"in t&&n(2,i=t.content),"index"in t&&n(3,o=t.index),"active"in t&&n(4,a=t.active),"highlight"in t&&n(5,l=t.highlight)},[r,s,i,o,a,l,t=>t.length>25?`${t.slice(0,22)}...`:t,c,()=>["sy-list-preview-item-container"].join(" "),t=>{13===t.keycode&&c("click",o)},()=>c("click",o)]}"undefined"!=typeof process&&null!==process&&process.env.JEST_WORKER_ID;class te extends st{constructor(t){super(),rt(this,t,Zt,Jt,o,{headline:0,subtitle:1,content:2,index:3,active:4,highlight:5})}}function ee(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function ne(t){let e,n;return e=new te({props:{headline:t[7].headline,subtitle:t[7].subtitle,content:t[7].content,active:t[2]===t[9],index:t[9],highlight:t[1]}}),e.$on("click",t[3]),e.$on("event",t[5]),{c(){tt(e.$$.fragment)},m(t,r){et(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.headline=t[7].headline),1&n&&(r.subtitle=t[7].subtitle),1&n&&(r.content=t[7].content),4&n&&(r.active=t[2]===t[9]),2&n&&(r.highlight=t[1]),e.$set(r)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function re(t){let e,n,r=t[0],s=[];for(let e=0;e<r.length;e+=1)s[e]=ne(ee(t,r,e));const i=t=>G(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=y()},m(t,r){for(let e=0;e<s.length;e+=1)s[e].m(t,r);g(t,e,r),n=!0},p(t,[n]){if(15&n){let o;for(r=t[0],o=0;o<r.length;o+=1){const i=ee(t,r,o);s[o]?(s[o].p(i,n),K(s[o],1)):(s[o]=ne(i),s[o].c(),K(s[o],1),s[o].m(e.parentNode,e))}for(Q(),o=r.length;o<s.length;o+=1)i(o);X()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)K(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)G(s[t]);n=!1},d(t){_(s,t),t&&m(e)}}}function se(t,e,n){let r,{values:s=[]}=e,{highlight:i=!0}=e,{component:o}=e;const a=E();return t.$$set=t=>{"values"in t&&n(0,s=t.values),"highlight"in t&&n(1,i=t.highlight),"component"in t&&n(4,o=t.component)},[s,i,r,t=>{n(2,r=t.detail),a("selection",{index:r,value:s[r]})},o,function(e){T.call(this,t,e)}]}class ie extends st{constructor(t){super(),rt(this,t,se,re,o,{values:0,highlight:1,component:4})}}function oe(t,e,n){const r=t.slice();return r[4]=e[n],r}function ae(t){let e,n,r,s;var i=t[1];function o(t){return{props:{value:t[4]}}}return i&&(n=z(i,o(t)),n.$on("event",t[3])),{c(){e=v("div"),n&&tt(n.$$.fragment),r=w(),C(e,"class","sy-list--list-item svelte-jg17mk")},m(t,i){g(t,e,i),n&&et(n,e,null),f(e,r),s=!0},p(t,s){const a={};if(1&s&&(a.value=t[4]),i!==(i=t[1])){if(n){Q();const t=n;G(t.$$.fragment,1,0,(()=>{nt(t,1)})),X()}i?(n=z(i,o(t)),n.$on("event",t[3]),tt(n.$$.fragment),K(n.$$.fragment,1),et(n,e,r)):n=null}else i&&n.$set(a)},i(t){s||(n&&K(n.$$.fragment,t),s=!0)},o(t){n&&G(n.$$.fragment,t),s=!1},d(t){t&&m(e),n&&nt(n)}}}function le(t){let e,n,r=t[0],s=[];for(let e=0;e<r.length;e+=1)s[e]=ae(oe(t,r,e));const i=t=>G(s[t],1,1,(()=>{s[t]=null}));return{c(){e=v("div");for(let t=0;t<s.length;t+=1)s[t].c();C(e,"class","sy-list--container svelte-jg17mk")},m(t,r){g(t,e,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);n=!0},p(t,[n]){if(3&n){let o;for(r=t[0],o=0;o<r.length;o+=1){const i=oe(t,r,o);s[o]?(s[o].p(i,n),K(s[o],1)):(s[o]=ae(i),s[o].c(),K(s[o],1),s[o].m(e,null))}for(Q(),o=r.length;o<s.length;o+=1)i(o);X()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)K(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)G(s[t]);n=!1},d(t){t&&m(e),_(s,t)}}}function ce(t,e,n){let{values:r=[]}=e,{component:s}=e,{highlight:i}=e;return t.$$set=t=>{"values"in t&&n(0,r=t.values),"component"in t&&n(1,s=t.component),"highlight"in t&&n(2,i=t.highlight)},[r,s,i,function(e){T.call(this,t,e)}]}class he extends st{constructor(t){super(),rt(this,t,ce,le,o,{values:0,component:1,highlight:2})}}function ue(t){let e,n,r;var s=t[5][t[0]];function i(t){return{props:{values:t[1],component:t[2],highlight:t[3]}}}return s&&(e=z(s,i(t)),e.$on("selection",t[6]),e.$on("event",t[7])),{c(){e&&tt(e.$$.fragment),n=y()},m(t,s){e&&et(e,t,s),g(t,n,s),r=!0},p(t,[r]){const o={};if(2&r&&(o.values=t[1]),4&r&&(o.component=t[2]),8&r&&(o.highlight=t[3]),s!==(s=t[5][t[0]])){if(e){Q();const t=e;G(t.$$.fragment,1,0,(()=>{nt(t,1)})),X()}s?(e=z(s,i(t)),e.$on("selection",t[6]),e.$on("event",t[7]),tt(e.$$.fragment),K(e.$$.fragment,1),et(e,n.parentNode,n)):e=null}else s&&e.$set(o)},i(t){r||(e&&K(e.$$.fragment,t),r=!0)},o(t){e&&G(e.$$.fragment,t),r=!1},d(t){t&&m(n),e&&nt(e,t)}}}function de(t,e,n){let{style:r="content"}=e,{values:s=[]}=e,{component:i}=e,{highlight:o=!0}=e;const a=E(),l={preview:ie,content:he};return t.$$set=t=>{"style"in t&&n(0,r=t.style),"values"in t&&n(1,s=t.values),"component"in t&&n(2,i=t.component),"highlight"in t&&n(3,o=t.highlight)},[r,s,i,o,a,l,t=>a("selection",t.detail),function(e){T.call(this,t,e)}]}class pe extends st{constructor(t){super(),rt(this,t,de,ue,o,{style:0,values:1,component:2,highlight:3})}}function fe(e){let n,r,s,i;return{c(){n=$("svg"),r=$("path"),s=$("path"),C(r,"d","M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"),C(s,"d","M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",i="feather feather-book-open "+e[2])},m(t,e){g(t,n,e),f(n,r),f(n,s)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&i!==(i="feather feather-book-open "+t[2])&&C(n,"class",i)},i:t,o:t,d(t){t&&m(n)}}}function ge(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class me extends st{constructor(t){super(),rt(this,t,ge,fe,o,{size:0,strokeWidth:1,class:2})}}function _e(e){let n,r,s;return{c(){n=$("svg"),r=$("path"),C(r,"d","M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",s="feather feather-bookmark "+e[2])},m(t,e){g(t,n,e),f(n,r)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&s!==(s="feather feather-bookmark "+t[2])&&C(n,"class",s)},i:t,o:t,d(t){t&&m(n)}}}function ve(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class $e extends st{constructor(t){super(),rt(this,t,ve,_e,o,{size:0,strokeWidth:1,class:2})}}function ke(e){let n,r,s;return{c(){n=$("svg"),r=$("polyline"),C(r,"points","15 18 9 12 15 6"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",s="feather feather-chevron-left "+e[2])},m(t,e){g(t,n,e),f(n,r)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&s!==(s="feather feather-chevron-left "+t[2])&&C(n,"class",s)},i:t,o:t,d(t){t&&m(n)}}}function we(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class ye extends st{constructor(t){super(),rt(this,t,we,ke,o,{size:0,strokeWidth:1,class:2})}}function xe(e){let n,r,s;return{c(){n=$("svg"),r=$("polyline"),C(r,"points","9 18 15 12 9 6"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",s="feather feather-chevron-right "+e[2])},m(t,e){g(t,n,e),f(n,r)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&s!==(s="feather feather-chevron-right "+t[2])&&C(n,"class",s)},i:t,o:t,d(t){t&&m(n)}}}function Ce(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class be extends st{constructor(t){super(),rt(this,t,Ce,xe,o,{size:0,strokeWidth:1,class:2})}}function Se(e){let n,r,s,i,o;return{c(){n=$("svg"),r=$("circle"),s=$("path"),i=$("line"),C(r,"cx","12"),C(r,"cy","12"),C(r,"r","10"),C(s,"d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"),C(i,"x1","12"),C(i,"y1","17"),C(i,"x2","12.01"),C(i,"y2","17"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",o="feather feather-help-circle "+e[2])},m(t,e){g(t,n,e),f(n,r),f(n,s),f(n,i)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&o!==(o="feather feather-help-circle "+t[2])&&C(n,"class",o)},i:t,o:t,d(t){t&&m(n)}}}function ze(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class Pe extends st{constructor(t){super(),rt(this,t,ze,Se,o,{size:0,strokeWidth:1,class:2})}}function De(e){let n,r,s,i,o,a;return{c(){n=$("svg"),r=$("polyline"),s=$("polyline"),i=$("line"),o=$("line"),C(r,"points","15 3 21 3 21 9"),C(s,"points","9 21 3 21 3 15"),C(i,"x1","21"),C(i,"y1","3"),C(i,"x2","14"),C(i,"y2","10"),C(o,"x1","3"),C(o,"y1","21"),C(o,"x2","10"),C(o,"y2","14"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",a="feather feather-maximize-2 "+e[2])},m(t,e){g(t,n,e),f(n,r),f(n,s),f(n,i),f(n,o)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&a!==(a="feather feather-maximize-2 "+t[2])&&C(n,"class",a)},i:t,o:t,d(t){t&&m(n)}}}function Me(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class Ee extends st{constructor(t){super(),rt(this,t,Me,De,o,{size:0,strokeWidth:1,class:2})}}function Te(e){let n,r,s;return{c(){n=$("svg"),r=$("path"),C(r,"d","M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",s="feather feather-message-circle "+e[2])},m(t,e){g(t,n,e),f(n,r)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&s!==(s="feather feather-message-circle "+t[2])&&C(n,"class",s)},i:t,o:t,d(t){t&&m(n)}}}function We(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class Re extends st{constructor(t){super(),rt(this,t,We,Te,o,{size:0,strokeWidth:1,class:2})}}function Ae(e){let n,r,s,i,o;return{c(){n=$("svg"),r=$("circle"),s=$("circle"),i=$("circle"),C(r,"cx","12"),C(r,"cy","12"),C(r,"r","1"),C(s,"cx","19"),C(s,"cy","12"),C(s,"r","1"),C(i,"cx","5"),C(i,"cy","12"),C(i,"r","1"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",o="feather feather-more-horizontal "+e[2])},m(t,e){g(t,n,e),f(n,r),f(n,s),f(n,i)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&o!==(o="feather feather-more-horizontal "+t[2])&&C(n,"class",o)},i:t,o:t,d(t){t&&m(n)}}}function Oe(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class Le extends st{constructor(t){super(),rt(this,t,Oe,Ae,o,{size:0,strokeWidth:1,class:2})}}function Ie(e){let n,r,s,i,o;return{c(){n=$("svg"),r=$("circle"),s=$("circle"),i=$("circle"),C(r,"cx","12"),C(r,"cy","12"),C(r,"r","1"),C(s,"cx","12"),C(s,"cy","5"),C(s,"r","1"),C(i,"cx","12"),C(i,"cy","19"),C(i,"r","1"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",o="feather feather-more-vertical "+e[2])},m(t,e){g(t,n,e),f(n,r),f(n,s),f(n,i)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&o!==(o="feather feather-more-vertical "+t[2])&&C(n,"class",o)},i:t,o:t,d(t){t&&m(n)}}}function Be(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class je extends st{constructor(t){super(),rt(this,t,Be,Ie,o,{size:0,strokeWidth:1,class:2})}}function Fe(e){let n,r,s,i;return{c(){n=$("svg"),r=$("rect"),s=$("rect"),C(r,"x","6"),C(r,"y","4"),C(r,"width","4"),C(r,"height","16"),C(s,"x","14"),C(s,"y","4"),C(s,"width","4"),C(s,"height","16"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",i="feather feather-pause "+e[2])},m(t,e){g(t,n,e),f(n,r),f(n,s)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&i!==(i="feather feather-pause "+t[2])&&C(n,"class",i)},i:t,o:t,d(t){t&&m(n)}}}function He(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class Ne extends st{constructor(t){super(),rt(this,t,He,Fe,o,{size:0,strokeWidth:1,class:2})}}function qe(e){let n,r,s;return{c(){n=$("svg"),r=$("polygon"),C(r,"points","5 3 19 12 5 21 5 3"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",s="feather feather-play "+e[2])},m(t,e){g(t,n,e),f(n,r)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&s!==(s="feather feather-play "+t[2])&&C(n,"class",s)},i:t,o:t,d(t){t&&m(n)}}}function Ue(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class Ve extends st{constructor(t){super(),rt(this,t,Ue,qe,o,{size:0,strokeWidth:1,class:2})}}function Ye(e){let n,r,s,i;return{c(){n=$("svg"),r=$("line"),s=$("line"),C(r,"x1","12"),C(r,"y1","5"),C(r,"x2","12"),C(r,"y2","19"),C(s,"x1","5"),C(s,"y1","12"),C(s,"x2","19"),C(s,"y2","12"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",i="feather feather-plus "+e[2])},m(t,e){g(t,n,e),f(n,r),f(n,s)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&i!==(i="feather feather-plus "+t[2])&&C(n,"class",i)},i:t,o:t,d(t){t&&m(n)}}}function Qe(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class Xe extends st{constructor(t){super(),rt(this,t,Qe,Ye,o,{size:0,strokeWidth:1,class:2})}}function Ke(e){let n,r,s,i;return{c(){n=$("svg"),r=$("circle"),s=$("line"),C(r,"cx","11"),C(r,"cy","11"),C(r,"r","8"),C(s,"x1","21"),C(s,"y1","21"),C(s,"x2","16.65"),C(s,"y2","16.65"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",i="feather feather-search "+e[2])},m(t,e){g(t,n,e),f(n,r),f(n,s)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&i!==(i="feather feather-search "+t[2])&&C(n,"class",i)},i:t,o:t,d(t){t&&m(n)}}}function Ge(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class Je extends st{constructor(t){super(),rt(this,t,Ge,Ke,o,{size:0,strokeWidth:1,class:2})}}function Ze(e){let n,r,s,i;return{c(){n=$("svg"),r=$("circle"),s=$("path"),C(r,"cx","12"),C(r,"cy","12"),C(r,"r","3"),C(s,"d","M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",i="feather feather-settings "+e[2])},m(t,e){g(t,n,e),f(n,r),f(n,s)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&i!==(i="feather feather-settings "+t[2])&&C(n,"class",i)},i:t,o:t,d(t){t&&m(n)}}}function tn(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class en extends st{constructor(t){super(),rt(this,t,tn,Ze,o,{size:0,strokeWidth:1,class:2})}}function nn(e){let n,r,s,i;return{c(){n=$("svg"),r=$("polyline"),s=$("polyline"),C(r,"points","23 6 13.5 15.5 8.5 10.5 1 18"),C(s,"points","17 6 23 6 23 12"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"width",e[0]),C(n,"height",e[0]),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(n,"stroke-width",e[1]),C(n,"stroke-linecap","round"),C(n,"stroke-linejoin","round"),C(n,"class",i="feather feather-trending-up "+e[2])},m(t,e){g(t,n,e),f(n,r),f(n,s)},p(t,[e]){1&e&&C(n,"width",t[0]),1&e&&C(n,"height",t[0]),2&e&&C(n,"stroke-width",t[1]),4&e&&i!==(i="feather feather-trending-up "+t[2])&&C(n,"class",i)},i:t,o:t,d(t){t&&m(n)}}}function rn(t,e,n){let{size:r="24"}=e,{strokeWidth:s=2}=e,{class:i=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,s=t.strokeWidth),"class"in t&&n(2,i=t.class)},[r,s,i]}class sn extends st{constructor(t){super(),rt(this,t,rn,nn,o,{size:0,strokeWidth:1,class:2})}}function on(t,e,n){const r=t.slice();return r[5]=e[n],r}function an(t){let e,n,r,s,i,o,a,l,c,h,u,d;n=new St({props:{word:t[0]}}),s=new qt({props:{$$slots:{default:[hn]},$$scope:{ctx:t}}}),c=new pe({props:{values:t[0].english,component:Ot}}),c.$on("event",t[2]);let p=t[0].measure_words.length&&un(t);return{c(){e=v("section"),tt(n.$$.fragment),r=w(),tt(s.$$.fragment),i=w(),o=v("section"),a=v("h2"),a.textContent="Definitions",l=w(),tt(c.$$.fragment),h=w(),p&&p.c(),u=y(),C(e,"class","dictionary-content dictionary-content--header svelte-1nfo36b"),C(a,"class","dictionary-content--section-title svelte-1nfo36b"),C(o,"class","dictionary-content svelte-1nfo36b")},m(t,m){g(t,e,m),et(n,e,null),f(e,r),et(s,e,null),g(t,i,m),g(t,o,m),f(o,a),f(o,l),et(c,o,null),g(t,h,m),p&&p.m(t,m),g(t,u,m),d=!0},p(t,e){const r={};1&e&&(r.word=t[0]),n.$set(r);const i={};256&e&&(i.$$scope={dirty:e,ctx:t}),s.$set(i);const o={};1&e&&(o.values=t[0].english),c.$set(o),t[0].measure_words.length?p?(p.p(t,e),1&e&&K(p,1)):(p=un(t),p.c(),K(p,1),p.m(u.parentNode,u)):p&&(Q(),G(p,1,1,(()=>{p=null})),X())},i(t){d||(K(n.$$.fragment,t),K(s.$$.fragment,t),K(c.$$.fragment,t),K(p),d=!0)},o(t){G(n.$$.fragment,t),G(s.$$.fragment,t),G(c.$$.fragment,t),G(p),d=!1},d(t){t&&m(e),nt(n),nt(s),t&&m(i),t&&m(o),nt(c),t&&m(h),p&&p.d(t),t&&m(u)}}}function ln(e){let n,r,s,i;var o=e[5].component;o&&(n=z(o,{props:{size:"18"}}));let a=e[5].tooltip&&function(e){let n,r,s,i=e[5].tooltip+"";return{c(){n=v("div"),r=v("p"),s=k(i),C(n,"class","sy-tooltip--body sy-tooltip--body-bottom")},m(t,e){g(t,n,e),f(n,r),f(r,s)},p:t,d(t){t&&m(n)}}}(e);return{c(){n&&tt(n.$$.fragment),r=w(),a&&a.c(),s=w()},m(t,e){n&&et(n,t,e),g(t,r,e),a&&a.m(t,e),g(t,s,e),i=!0},p(t,e){if(o!==(o=t[5].component)){if(n){Q();const t=n;G(t.$$.fragment,1,0,(()=>{nt(t,1)})),X()}o?(n=z(o,{props:{size:"18"}}),tt(n.$$.fragment),K(n.$$.fragment,1),et(n,r.parentNode,r)):n=null}t[5].tooltip&&a.p(t,e)},i(t){i||(n&&K(n.$$.fragment,t),i=!0)},o(t){n&&G(n.$$.fragment,t),i=!1},d(t){n&&nt(n,t),t&&m(r),a&&a.d(t),t&&m(s)}}}function cn(t){let e,n;return e=new Yt({props:{grouped:"true",classes:["sy-tooltip--container"],$$slots:{default:[ln]},$$scope:{ctx:t}}}),e.$on("click",t[5].action),{c(){tt(e.$$.fragment)},m(t,r){et(e,t,r),n=!0},p(t,n){const r={};256&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function hn(t){let e,n,r=t[1],s=[];for(let e=0;e<r.length;e+=1)s[e]=cn(on(t,r,e));const i=t=>G(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=y()},m(t,r){for(let e=0;e<s.length;e+=1)s[e].m(t,r);g(t,e,r),n=!0},p(t,n){if(2&n){let o;for(r=t[1],o=0;o<r.length;o+=1){const i=on(t,r,o);s[o]?(s[o].p(i,n),K(s[o],1)):(s[o]=cn(i),s[o].c(),K(s[o],1),s[o].m(e.parentNode,e))}for(Q(),o=r.length;o<s.length;o+=1)i(o);X()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)K(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)G(s[t]);n=!1},d(t){_(s,t),t&&m(e)}}}function un(t){let e,n,r,s,i;return s=new pe({props:{values:t[0].measure_words,component:Ft}}),s.$on("event",t[2]),{c(){e=v("section"),n=v("h2"),n.textContent="Measure Words",r=w(),tt(s.$$.fragment),C(n,"class","dictionary-content--section-title svelte-1nfo36b"),C(e,"class","dictionary-content svelte-1nfo36b")},m(t,o){g(t,e,o),f(e,n),f(e,r),et(s,e,null),i=!0},p(t,e){const n={};1&e&&(n.values=t[0].measure_words),s.$set(n)},i(t){i||(K(s.$$.fragment,t),i=!0)},o(t){G(s.$$.fragment,t),i=!1},d(t){t&&m(e),nt(s)}}}function dn(t){let e,n,r=t[0]&&an(t);return{c(){e=v("div"),r&&r.c(),C(e,"class","dictionary-content-container svelte-1nfo36b")},m(t,s){g(t,e,s),r&&r.m(e,null),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&K(r,1)):(r=an(t),r.c(),K(r,1),r.m(e,null)):r&&(Q(),G(r,1,1,(()=>{r=null})),X())},i(t){n||(K(r),n=!0)},o(t){G(r),n=!1},d(t){t&&m(e),r&&r.d()}}}function pn(t,e,n){let{word:r}=e;const s=window.__TAURI__.invoke,i=E(),o=[{component:Xe,tooltip:"Add to List",action:()=>{alert("Feature Not Implemented"),console.log(r)}},{component:Ee,tooltip:"Enlarge Characters",action:()=>{s("open_character_window",{word:{traditional:r.traditional,simplified:r.simplified}}).catch((t=>{Qt("An unknown error occurred while trying to open the enlarged character window. Please check the log for more details.",t)}))}},{component:Le,tooltip:"",action:()=>{alert("Feature Not Implemented")}}];return t.$$set=t=>{"word"in t&&n(0,r=t.word)},[r,o,t=>i("link",t.detail)]}class fn extends st{constructor(t){super(),rt(this,t,pn,dn,o,{word:0})}}function gn(e){let n,r,i;return{c(){n=v("input"),C(n,"placeholder",e[0]),C(n,"type",e[1]),C(n,"class",d(e[5]())+" svelte-r87i1x"),C(n,"id",e[2]),C(n,"spellcheck",e[3])},m(t,s){g(t,n,s),r||(i=[x(n,"change",e[10]),x(n,"keyup",e[6])],r=!0)},p(t,[e]){1&e&&C(n,"placeholder",t[0]),2&e&&C(n,"type",t[1]),4&e&&C(n,"id",t[2]),8&e&&C(n,"spellcheck",t[3])},i:t,o:t,d(t){t&&m(n),r=!1,s(i)}}}function mn(t,e,n){let{style:r="standard"}=e,{size:s="medium"}=e,{transparency:i=!1}=e,{placeholder:o=""}=e,{type:a="text"}=e,{id:l}=e,{spellcheck:c}=e;const h=E();return t.$$set=t=>{"style"in t&&n(7,r=t.style),"size"in t&&n(8,s=t.size),"transparency"in t&&n(9,i=t.transparency),"placeholder"in t&&n(0,o=t.placeholder),"type"in t&&n(1,a=t.type),"id"in t&&n(2,l=t.id),"spellcheck"in t&&n(3,c=t.spellcheck)},[o,a,l,c,h,()=>["sy-text-input",i?"sy-text-input--transparency":"",`sy-text-input--${r}`,`sy-text-input--${s}`].join(" "),t=>{"Enter"==t.code?h("enter",t):h("keyup",t.srcElement.value)},r,s,i,t=>h("change",t.srcElement.value)]}class _n extends st{constructor(t){super(),rt(this,t,mn,gn,o,{style:7,size:8,transparency:9,placeholder:0,type:1,id:2,spellcheck:3})}}function vn(e){let n,r;return n=new ye({props:{size:"20"}}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),r=!0},p:t,i(t){r||(K(n.$$.fragment,t),r=!0)},o(t){G(n.$$.fragment,t),r=!1},d(t){nt(n,t)}}}function $n(e){let n,r;return n=new be({props:{size:"20"}}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),r=!0},p:t,i(t){r||(K(n.$$.fragment,t),r=!0)},o(t){G(n.$$.fragment,t),r=!1},d(t){nt(n,t)}}}function kn(t){let e;return{c(){e=k(t[3])},m(t,n){g(t,e,n)},p(t,n){8&n&&b(e,t[3])},d(t){t&&m(e)}}}function wn(t){let e,n,r,s,i,o,a,l,c,h,u,d,p,_,$,k,y,x;return r=new Yt({props:{style:"ghost",size:"large",disabled:null==t[6][t[0]-1],$$slots:{default:[vn]},$$scope:{ctx:t}}}),r.$on("click",t[8]),i=new Yt({props:{style:"ghost",size:"large",disabled:null==t[6][t[0]+1],$$slots:{default:[$n]},$$scope:{ctx:t}}}),i.$on("click",t[9]),a=new Yt({props:{style:"ghost",size:"large",$$slots:{default:[kn]},$$scope:{ctx:t}}}),a.$on("click",t[14]),c=new _n({props:{spellcheck:"false",style:"ghost",size:"large",placeholder:"Search...",id:"search",transparency:yn}}),c.$on("change",t[15]),c.$on("keyup",t[16]),c.$on("enter",t[12]),_=new pe({props:{style:"preview",values:t[1],highlight:t[4]}}),_.$on("selection",t[11]),y=new fn({props:{word:t[2]}}),y.$on("link",t[13]),{c(){e=v("div"),n=v("div"),tt(r.$$.fragment),s=w(),tt(i.$$.fragment),o=w(),tt(a.$$.fragment),l=w(),tt(c.$$.fragment),u=w(),d=v("div"),p=v("div"),tt(_.$$.fragment),$=w(),k=v("div"),tt(y.$$.fragment),C(n,"class","search-bar-container svelte-177g944"),C(n,"data-testid","search-bar-container"),C(n,"data-tauri-drag-region",h=!!t[5]||void 0),S(n,"search-bar-container--transparency",yn),C(p,"class","search-results svelte-177g944"),C(p,"data-elastic",""),C(k,"class","dictionary-content svelte-177g944"),C(d,"class","search-content-container svelte-177g944"),C(e,"class","search-page-container svelte-177g944")},m(t,h){g(t,e,h),f(e,n),et(r,n,null),f(n,s),et(i,n,null),f(n,o),et(a,n,null),f(n,l),et(c,n,null),f(e,u),f(e,d),f(d,p),et(_,p,null),f(d,$),f(d,k),et(y,k,null),x=!0},p(t,[e]){const s={};1&e&&(s.disabled=null==t[6][t[0]-1]),16777216&e&&(s.$$scope={dirty:e,ctx:t}),r.$set(s);const o={};1&e&&(o.disabled=null==t[6][t[0]+1]),16777216&e&&(o.$$scope={dirty:e,ctx:t}),i.$set(o);const l={};16777224&e&&(l.$$scope={dirty:e,ctx:t}),a.$set(l),(!x||32&e&&h!==(h=!!t[5]||void 0))&&C(n,"data-tauri-drag-region",h);const c={};2&e&&(c.values=t[1]),16&e&&(c.highlight=t[4]),_.$set(c);const u={};4&e&&(u.word=t[2]),y.$set(u)},i(t){x||(K(r.$$.fragment,t),K(i.$$.fragment,t),K(a.$$.fragment,t),K(c.$$.fragment,t),K(_.$$.fragment,t),K(y.$$.fragment,t),x=!0)},o(t){G(r.$$.fragment,t),G(i.$$.fragment,t),G(a.$$.fragment,t),G(c.$$.fragment,t),G(_.$$.fragment,t),G(y.$$.fragment,t),x=!1},d(t){t&&m(e),nt(r),nt(i),nt(a),nt(c),nt(_),nt(y)}}}let yn=!1;function xn(t,e,n){let r,s=-1,i=[],o=[],a=[],l="EN",c=!0,h=!1;window.__TAURI__.os.platform().then((t=>{n(5,h="darwin"===t)}));const u=window.__TAURI__.invoke,d=["EN","PY","ZH"],p=(t,e)=>{(t.length||e)&&(n(4,c=!1),a=t,n(1,o=t.map((t=>({headline:t.traditional===t.simplified?t.simplified:`${t.simplified} (${t.traditional})`,subtitle:t.pinyin_marks,content:t.english.join("; "),active:!1})))))},f=(t,e,r)=>{t?(u("classify",{text:t}).then((t=>{n(3,l=t)})).catch((t=>{Qt("There was an error classifying the language of your query.",t)})),u("query",{text:t}).then((t=>{p(t,e),null!=r&&j().then((()=>{_(r)}))})).catch((t=>{Qt("There was an error searching the dictionary for your query.",t)}))):p([],!0)},g=(t,e)=>{n(2,r=t),n(4,c=e)},m=()=>{const t=d.indexOf(l)+1;n(3,l=d[t<d.length?t:0]),((t,e)=>{try{switch(e){case"EN":u("query_by_english",{text:t}).then((t=>p(t,!0)));break;case"PY":u("query_by_pinyin",{text:t}).then((t=>p(t,!0)));break;case"ZH":u("query_by_chinese",{text:t}).then((t=>p(t,!0)))}}catch(t){Qt("There was an error searching the dictionary for your query.",t)}})(document.getElementById("search").value,l)},_=t=>{try{document.getElementsByClassName("sy-list-preview-item-container")[t].click()}catch(t){}};return[s,o,r,l,c,h,i,f,t=>{n(0,s-=1),g(i[s],!1)},t=>{n(0,s+=1),g(i[s],!1)},m,t=>{const e=a[t.detail.index];g(e,!0);let r=i.map((t=>t.word_id)).indexOf(e.word_id);r>=0&&(i.splice(r,1),n(0,s-=1)),i.push(e),n(0,s+=1)},t=>{_(0)},t=>{const e=t.detail;document.getElementById("search").value=e,f(e,!0,0)},()=>m(),t=>f(t.detail,!0),t=>f(t.detail,!1)]}class Cn extends st{constructor(t){super(),rt(this,t,xn,wn,o,{})}}function bn(e){let n,r;return{c(){n=v("center"),r=v("h1"),r.textContent=`${Sn}`},m(t,e){g(t,n,e),f(n,r)},p:t,i:t,o:t,d(t){t&&m(n)}}}let Sn="READER";class zn extends st{constructor(t){super(),rt(this,t,null,bn,o,{})}}function Pn(e){let n,r;return{c(){n=v("center"),r=v("h1"),r.textContent=`${Dn}`},m(t,e){g(t,n,e),f(n,r)},p:t,i:t,o:t,d(t){t&&m(n)}}}let Dn="BOOKMARKS";class Mn extends st{constructor(t){super(),rt(this,t,null,Pn,o,{})}}function En(e){let n,r;return{c(){n=v("center"),r=v("h1"),r.textContent=`${Tn}`},m(t,e){g(t,n,e),f(n,r)},p:t,i:t,o:t,d(t){t&&m(n)}}}let Tn="STUDY";class Wn extends st{constructor(t){super(),rt(this,t,null,En,o,{})}}function Rn(e){let n,r;return{c(){n=v("center"),r=v("h1"),r.textContent=`${An}`},m(t,e){g(t,n,e),f(n,r)},p:t,i:t,o:t,d(t){t&&m(n)}}}let An="TOOLS";class On extends st{constructor(t){super(),rt(this,t,null,Rn,o,{})}}function Ln(e){let n,r;return{c(){n=v("center"),r=v("h1"),r.textContent=`${Bn}`},m(t,e){g(t,n,e),f(n,r)},p:t,i:t,o:t,d(t){t&&m(n)}}}let In,Bn="HELP";class jn extends st{constructor(t){super(),rt(this,t,null,Ln,o,{})}}const Fn=new Uint8Array(16);function Hn(){if(!In&&(In="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!In))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return In(Fn)}const Nn=[];for(let t=0;t<256;++t)Nn.push((t+256).toString(16).slice(1));var qn={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Un(t,e,n){if(qn.randomUUID&&!e&&!t)return qn.randomUUID();const r=(t=t||{}).random||(t.rng||Hn)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return(Nn[t[e+0]]+Nn[t[e+1]]+Nn[t[e+2]]+Nn[t[e+3]]+"-"+Nn[t[e+4]]+Nn[t[e+5]]+"-"+Nn[t[e+6]]+Nn[t[e+7]]+"-"+Nn[t[e+8]]+Nn[t[e+9]]+"-"+Nn[t[e+10]]+Nn[t[e+11]]+Nn[t[e+12]]+Nn[t[e+13]]+Nn[t[e+14]]+Nn[t[e+15]]).toLowerCase()}(r)}function Vn(e){let n,r,s,i,o,a,l;return{c(){n=v("span"),r=v("input"),s=w(),i=v("label"),o=k("Toggle"),C(r,"type","checkbox"),C(r,"id",e[1]),C(r,"class","sy-toggle svelte-ssxm77"),r.value=e[2],r.checked=e[0],C(i,"for",e[1]),C(i,"class","sy-toggle--label svelte-ssxm77"),C(n,"class","sy-toggle--container svelte-ssxm77")},m(t,c){g(t,n,c),f(n,r),f(n,s),f(n,i),f(i,o),a||(l=x(r,"change",e[4]),a=!0)},p(t,[e]){2&e&&C(r,"id",t[1]),4&e&&(r.value=t[2]),1&e&&(r.checked=t[0]),2&e&&C(i,"for",t[1])},i:t,o:t,d(t){t&&m(n),a=!1,l()}}}function Yn(t,e,n){let{checked:r=!1}=e,{id:s=Un()}=e,{value:i}=e;const o=E();return t.$$set=t=>{"checked"in t&&n(0,r=t.checked),"id"in t&&n(1,s=t.id),"value"in t&&n(2,i=t.value)},[r,s,i,o,t=>o("change",t.srcElement.checked)]}class Qn extends st{constructor(t){super(),rt(this,t,Yn,Vn,o,{checked:0,id:1,value:2})}}function Xn(t,e,n){const r=t.slice();return r[7]=e[n],r}function Kn(t){let e,n,r,s,i,o,a,l,c=t[7].label+"";function h(){return t[2](t[7])}return{c(){e=v("div"),n=v("label"),r=k(c),s=w(),i=v("input"),o=w(),C(n,"for",`tone-${t[7].index+1}`),C(i,"type","color"),i.value=t[7].color,C(i,"id",`tone-${t[7].index+1}`),C(i,"name",`tone-${t[7].index+1}`),C(e,"class","tone-color-picker--tone svelte-1wk3p9z")},m(t,c){g(t,e,c),f(e,n),f(n,r),f(e,s),f(e,i),f(e,o),a||(l=x(i,"change",h),a=!0)},p(e,n){t=e},d(t){t&&m(e),a=!1,l()}}}function Gn(e){let n,r=e[0],s=[];for(let t=0;t<r.length;t+=1)s[t]=Kn(Xn(e,r,t));return{c(){n=v("div");for(let t=0;t<s.length;t+=1)s[t].c();C(n,"class","tone-color-picker")},m(t,e){g(t,n,e);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(t,[e]){if(3&e){let i;for(r=t[0],i=0;i<r.length;i+=1){const o=Xn(t,r,i);s[i]?s[i].p(o,e):(s[i]=Kn(o),s[i].c(),s[i].m(n,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=r.length}},i:t,o:t,d(t){t&&m(n),_(s,t)}}}function Jn(t){const e=E(),n=getComputedStyle(document.body),r=window.preferenceManager.get("toneColors").colors.map((t=>{return(e=t,"--"==e.substring(0,2)?n.getPropertyValue(e):e).trim();var e})),s=[{label:"First Tone",color:r[0],index:0},{label:"Second Tone",color:r[1],index:1},{label:"Third Tone",color:r[2],index:2},{label:"Fourth Tone",color:r[3],index:3},{label:"No Tone",color:r[4],index:4}],i=t=>{r[t]=document.getElementById(`tone-${t+1}`).value,e("change",{hasCustomColors:!0,colors:r})};return[s,i,t=>i(t.index)]}class Zn extends st{constructor(t){super(),rt(this,t,Jn,Gn,o,{})}}function tr(t,e,n){const r=t.slice();return r[2]=e[n],r}function er(t){let n,r,s,i,o,a,l,c=t[2].label+"";const h=[t[2].props];var u=t[2].component;function d(t){let n={};for(let t=0;t<h.length;t+=1)n=e(n,h[t]);return{props:n}}return u&&(o=z(u,d()),o.$on("change",t[2].handler)),{c(){n=v("div"),r=v("p"),s=k(c),i=w(),o&&tt(o.$$.fragment),a=w(),C(n,"class","settings--setting svelte-3awgbm"),S(n,"settings--setting--center",t[2].centerLabel)},m(t,e){g(t,n,e),f(n,r),f(r,s),f(n,i),o&&et(o,n,null),f(n,a),l=!0},p(t,e){const r=2&e?J(h,[Z(t[2].props)]):{};if(u!==(u=t[2].component)){if(o){Q();const t=o;G(t.$$.fragment,1,0,(()=>{nt(t,1)})),X()}u?(o=z(u,d()),o.$on("change",t[2].handler),tt(o.$$.fragment),K(o.$$.fragment,1),et(o,n,a)):o=null}else u&&o.$set(r)},i(t){l||(o&&K(o.$$.fragment,t),l=!0)},o(t){o&&G(o.$$.fragment,t),l=!1},d(t){t&&m(n),o&&nt(o)}}}function nr(t){let e,n,r,s,i,o,a,l=t[1],c=[];for(let e=0;e<l.length;e+=1)c[e]=er(tr(t,l,e));const h=t=>G(c[t],1,1,(()=>{c[t]=null}));return{c(){e=v("div"),n=v("div"),r=v("h1"),s=k("Settings"),i=w(),o=v("div");for(let t=0;t<c.length;t+=1)c[t].c();C(r,"data-tauri-drag-region",!!t[0]||void 0),C(n,"class","settings--title svelte-3awgbm"),C(n,"data-tauri-drag-region",!!t[0]||void 0),C(o,"class","settings--content"),C(e,"class","settings--container svelte-3awgbm")},m(t,l){g(t,e,l),f(e,n),f(n,r),f(r,s),f(e,i),f(e,o);for(let t=0;t<c.length;t+=1)c[t].m(o,null);a=!0},p(t,[e]){if(2&e){let n;for(l=t[1],n=0;n<l.length;n+=1){const r=tr(t,l,n);c[n]?(c[n].p(r,e),K(c[n],1)):(c[n]=er(r),c[n].c(),K(c[n],1),c[n].m(o,null))}for(Q(),n=l.length;n<c.length;n+=1)h(n);X()}},i(t){if(!a){for(let t=0;t<l.length;t+=1)K(c[t]);a=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)G(c[t]);a=!1},d(t){t&&m(e),_(c,t)}}}function rr(t){return["darwin"===window.platform,[{label:"Under Construction Features",centerLabel:!0,handler:t=>window.preferenceManager.set("beta",t.detail),component:Qn,props:{checked:window.preferenceManager.get("beta")}},{label:"Tone Colors",centerLabel:!1,handler:t=>window.preferenceManager.set("toneColors",t.detail),component:Zn,props:{}}]]}class sr extends st{constructor(t){super(),rt(this,t,rr,nr,o,{})}}function ir(e){let n,r;return{c(){n=v("center"),r=v("h1"),r.textContent=`${or}`},m(t,e){g(t,n,e),f(n,r)},p:t,i:t,o:t,d(t){t&&m(n)}}}let or="CHAT";class ar extends st{constructor(t){super(),rt(this,t,null,ir,o,{})}}function lr(e){let n,r;return{c(){n=v("center"),r=v("h1"),r.textContent=`${cr}`},m(t,e){g(t,n,e),f(n,r)},p:t,i:t,o:t,d(t){t&&m(n)}}}let cr="NOT FOUND";class hr extends st{constructor(t){super(),rt(this,t,null,lr,o,{})}}const ur=[];let dr;function pr(t){const e=t.pattern.test(dr);fr(t,t.className,e),fr(t,t.inactiveClassName,!e)}function fr(t,e,n){(e||"").split(" ").forEach((e=>{e&&(t.node.classList.remove(e),n&&t.node.classList.add(e))}))}function gr(t,e){if(!(e=e&&("string"==typeof e||"object"==typeof e&&e instanceof RegExp)?{path:e}:e||{}).path&&t.hasAttribute("href")&&(e.path=t.getAttribute("href"),e.path&&e.path.length>1&&"#"==e.path.charAt(0)&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||"string"==typeof e.path&&(e.path.length<1||"/"!=e.path.charAt(0)&&"*"!=e.path.charAt(0)))throw Error('Invalid value for "path" argument');const{pattern:n}="string"==typeof e.path?ct(e.path):{pattern:e.path},r={node:t,className:e.className,inactiveClassName:e.inactiveClassName,pattern:n};return ur.push(r),pr(r),{destroy(){ur.splice(ur.indexOf(r),1)}}}function mr(t,e,n){const r=t.slice();return r[6]=e[n],r}function _r(t,e,n){const r=t.slice();return r[6]=e[n],r}function vr(t){let e,n,r,s,i,o,a,l,c,h,u,d=t[6].title+"";var _=t[6].icon;return _&&(r=z(_,{props:{size:"24"}})),{c(){e=v("a"),n=v("span"),r&&tt(r.$$.fragment),s=w(),i=v("div"),o=v("p"),a=k(d),l=w(),C(n,"class","navigation--item svelte-ud9a0t"),C(i,"class","sy-tooltip--body sy-tooltip--body-right"),C(e,"href",`#/${t[6].link}`),C(e,"class","sy-tooltip--container")},m(d,m){g(d,e,m),f(e,n),r&&et(r,n,null),f(e,s),f(e,i),f(i,o),f(o,a),f(e,l),c=!0,h||(u=p(gr.call(null,n,{path:`/${t[6].link}`,className:"navigation--item-active"})),h=!0)},p(e,s){if(_!==(_=(t=e)[6].icon)){if(r){Q();const t=r;G(t.$$.fragment,1,0,(()=>{nt(t,1)})),X()}_?(r=z(_,{props:{size:"24"}}),tt(r.$$.fragment),K(r.$$.fragment,1),et(r,n,null)):r=null}},i(t){c||(r&&K(r.$$.fragment,t),c=!0)},o(t){r&&G(r.$$.fragment,t),c=!1},d(t){t&&m(e),r&&nt(r),h=!1,u()}}}function $r(t){let e,n,r=(!t[6].beta||t[0])&&vr(t);return{c(){r&&r.c(),e=y()},m(t,s){r&&r.m(t,s),g(t,e,s),n=!0},p(t,n){!t[6].beta||t[0]?r?(r.p(t,n),1&n&&K(r,1)):(r=vr(t),r.c(),K(r,1),r.m(e.parentNode,e)):r&&(Q(),G(r,1,1,(()=>{r=null})),X())},i(t){n||(K(r),n=!0)},o(t){G(r),n=!1},d(t){r&&r.d(t),t&&m(e)}}}function kr(t){let e,n,r,s,i,o,a,l,c,h,u,d=t[6].title+"";var _=t[6].icon;function $(t){return{props:{size:t[6].size}}}return _&&(r=z(_,$(t))),{c(){e=v("a"),n=v("span"),r&&tt(r.$$.fragment),s=w(),i=v("div"),o=v("p"),a=k(d),l=w(),C(n,"class","navigation--item svelte-ud9a0t"),C(i,"class","sy-tooltip--body sy-tooltip--body-right"),C(e,"href",`#/${t[6].link}`),C(e,"class","sy-tooltip--container")},m(d,m){g(d,e,m),f(e,n),r&&et(r,n,null),f(e,s),f(e,i),f(i,o),f(o,a),f(e,l),c=!0,h||(u=p(gr.call(null,n,{path:`/${t[6].link}`,className:"navigation--item-active"})),h=!0)},p(e,s){if(_!==(_=(t=e)[6].icon)){if(r){Q();const t=r;G(t.$$.fragment,1,0,(()=>{nt(t,1)})),X()}_?(r=z(_,$(t)),tt(r.$$.fragment),K(r.$$.fragment,1),et(r,n,null)):r=null}},i(t){c||(r&&K(r.$$.fragment,t),c=!0)},o(t){r&&G(r.$$.fragment,t),c=!1},d(t){t&&m(e),r&&nt(r),h=!1,u()}}}function wr(t){let e,n,r=(!t[6].beta||t[0])&&kr(t);return{c(){r&&r.c(),e=y()},m(t,s){r&&r.m(t,s),g(t,e,s),n=!0},p(t,n){!t[6].beta||t[0]?r?(r.p(t,n),1&n&&K(r,1)):(r=kr(t),r.c(),K(r,1),r.m(e.parentNode,e)):r&&(Q(),G(r,1,1,(()=>{r=null})),X())},i(t){n||(K(r),n=!0)},o(t){G(r),n=!1},d(t){r&&r.d(t),t&&m(e)}}}function yr(t){let e,n,r,s,i,o=t[3],a=[];for(let e=0;e<o.length;e+=1)a[e]=$r(_r(t,o,e));const l=t=>G(a[t],1,1,(()=>{a[t]=null}));let c=t[4],h=[];for(let e=0;e<c.length;e+=1)h[e]=wr(mr(t,c,e));const u=t=>G(h[t],1,1,(()=>{h[t]=null}));return{c(){e=v("div"),n=v("div");for(let t=0;t<a.length;t+=1)a[t].c();r=w(),s=v("div");for(let t=0;t<h.length;t+=1)h[t].c();C(n,"class","navigation--primary-nav svelte-ud9a0t"),S(n,"navigation--primary-nav--macos",t[2]),C(s,"class","navigation--secondary-nav svelte-ud9a0t"),C(e,"class","navigation-container svelte-ud9a0t"),S(e,"navigation-container--transparency",t[1])},m(t,o){g(t,e,o),f(e,n);for(let t=0;t<a.length;t+=1)a[t].m(n,null);f(e,r),f(e,s);for(let t=0;t<h.length;t+=1)h[t].m(s,null);i=!0},p(t,[r]){if(9&r){let e;for(o=t[3],e=0;e<o.length;e+=1){const s=_r(t,o,e);a[e]?(a[e].p(s,r),K(a[e],1)):(a[e]=$r(s),a[e].c(),K(a[e],1),a[e].m(n,null))}for(Q(),e=o.length;e<a.length;e+=1)l(e);X()}if((!i||4&r)&&S(n,"navigation--primary-nav--macos",t[2]),17&r){let e;for(c=t[4],e=0;e<c.length;e+=1){const n=mr(t,c,e);h[e]?(h[e].p(n,r),K(h[e],1)):(h[e]=wr(n),h[e].c(),K(h[e],1),h[e].m(s,null))}for(Q(),e=c.length;e<h.length;e+=1)u(e);X()}(!i||2&r)&&S(e,"navigation-container--transparency",t[1])},i(t){if(!i){for(let t=0;t<o.length;t+=1)K(a[t]);for(let t=0;t<c.length;t+=1)K(h[t]);i=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)G(a[t]);h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)G(h[t]);i=!1},d(t){t&&m(e),_(a,t),_(h,t)}}}function xr(t,e,n){const r=[{link:"",icon:Je,title:"Search",beta:!1},{link:"read",icon:me,title:"Read",beta:!0},{link:"bookmarks",icon:$e,title:"Bookmarks",beta:!0},{link:"study",icon:sn,title:"Study",beta:!0},{link:"chat",icon:Re,title:"Chat",beta:!0},{link:"tools",icon:je,title:"Extras",beta:!0}],s=[{link:"help",icon:Pe,size:"18",title:"Help",beta:!0},{link:"settings",icon:en,size:"24",title:"Settings",beta:!1}];let i=!1,o=!1,a=!1,l=!1;return Promise.all([window.preferenceManager.waitForInit(),window.__TAURI__.os.platform()]).then((t=>{i="darwin"===t[1],n(2,l=i),n(0,o=window.preferenceManager.get("beta")),n(1,a=i&&window.preferenceManager.get("transparency"))})).catch((t=>{Qt("There was an unexpected error reading system information. Syng may not operate as expected. Please restart Syng. If this problem persists, please report this bug. For more details check the logs.",t)})),[o,a,l,r,s]}ft.subscribe((t=>{dr=t.location+(t.querystring?"?"+t.querystring:""),ur.map(pr)}));class Cr extends st{constructor(t){super(),rt(this,t,xr,yr,o,{})}}function br(){return br=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},br.apply(this,arguments)}var Sr={targets:"[data-elastic]",easing:"cubic-bezier(.23,1,.32,1)",duration:[90,750],intensity:.8,useNative:!0,appleDevicesOnly:!0},zr="undefined"!=typeof window&&"undefined"!=typeof document,Pr=zr?navigator.platform:"",Dr=zr?navigator.userAgent:"",Mr=zr&&/Mac/.test(Pr),Er=zr&&/iPhone|iPad|iPod/.test(Pr)&&!window.MSStream,Tr=Er||Mr&&/Safari/.test(Dr)&&!/Chrome/.test(Dr),Wr=Er||Mr;function Rr(t){return[].slice.call(t)}var Ar,Or="transitionend",Lr="translate3d(0,0,0)";function Ir(t,e){t._elasticScroll&&t._elasticScroll.disable();var n=t.querySelector("[data-elastic-wrapper]")||function(t){var e=document.createElement("div");return e.setAttribute("data-elastic-wrapper",""),Rr(t.childNodes).forEach((function(t){e.appendChild(t)})),t.appendChild(e),e}(t),r=!1,s=0,i=0,o="y";function a(a){var h=a.deltaX,u=a.deltaY,d=t.offsetHeight,p=t.offsetWidth,f=t.scrollHeight,g=t.scrollWidth,m=t.scrollTop,_=t.scrollLeft;s!==m?o="y":i!==_&&(o="x");var v="x"===o&&(_<=0||_+p>=g),$="y"===o&&(m<=0||m+d>=f);v||$||(r=!1,n.removeEventListener(Or,l),n.removeEventListener(Or,c),"translate3d(0px, 0px, 0px)"!==n.style.transform&&(n.style.transition="none",n.style.transform=Lr)),m===s&&_===i||(s=m,i=_,r||!v&&!$||(r=!0,n.addEventListener(Or,l),n.style.transition="transform ".concat(e.duration[0],"ms ").concat(e.easing),n.style.transform="translate3d(".concat(v?e.intensity*-h:0,"px, ").concat($?e.intensity*-u:0,"px, 0)")))}function l(){n.removeEventListener(Or,l),n.addEventListener(Or,c),n.style.transition="transform ".concat(e.duration[1],"ms ").concat(e.easing),n.style.transform=Lr}function c(){n.removeEventListener(Or,c),r=!1}function h(){e.appleDevicesOnly&&!Wr||(e.useNative&&Tr?t.style.webkitOverflowScrolling="touch":e.useNative&&Tr||t.addEventListener("wheel",a,{passive:!0}))}h();var u={el:t,props:e,enable:h,disable:function(){t.style.webkitOverflowScrolling="",t.removeEventListener("wheel",a,{passive:!0})}};return t._elasticScroll=u,u}function Br(t){var e,n=br({},Sr,t),r=(e=n.targets,"string"==typeof e?Rr(document.querySelectorAll(e)):e instanceof NodeList?Rr(e):e instanceof Element?[e]:[]).map((function(t){return Ir(t,n)})).filter(Boolean);return n.targets instanceof Element?r[0]:r}function jr(e){let n,r,s,i,o,a,l;return s=new Cr({}),a=new _t({props:{routes:e[0]}}),{c(){n=v("div"),r=v("div"),tt(s.$$.fragment),i=w(),o=v("div"),tt(a.$$.fragment),C(r,"class","navigation-container svelte-ycfltu"),C(o,"class","content-container svelte-ycfltu"),C(n,"class","app-container svelte-ycfltu")},m(t,e){g(t,n,e),f(n,r),et(s,r,null),f(n,i),f(n,o),et(a,o,null),l=!0},p:t,i(t){l||(K(s.$$.fragment,t),K(a.$$.fragment,t),l=!0)},o(t){G(s.$$.fragment,t),G(a.$$.fragment,t),l=!1},d(t){t&&m(n),nt(s),nt(a)}}}function Fr(t){const e=window.__TAURI__.invoke,n=Gt()?"development_config":"config";window.preferenceManager=new Kt(n),Promise.all([e("init_dictionary"),window.preferenceManager.init()]).then((()=>{document.dispatchEvent(new Event("init")),r()})).catch((t=>{Qt("There was an error starting Syng. Please quit and try again. If this problem persists please file a bug report.",t)}));const r=()=>{const t=window.preferenceManager.get("toneColors");if(t.hasCustomColors){const e=document.querySelector(":root").style,n=t.colors;for(let t=0;t<n.length;t++)e.setProperty(`--sy-tone-color--${t+1}`,n[t])}};window.onload=()=>{Br({appleDeviceOnly:!1,intensity:1})},window.__TAURI__.os.platform().then((t=>window.platform=t));return[{"/":Cn,"/read":zn,"/bookmarks":Mn,"/study":Wn,"/tools":On,"/help":jn,"/settings":sr,"/chat":ar,"*":hr}]}Br.defaults=Sr;class Hr extends st{constructor(t){super(),rt(this,t,Fr,jr,o,{})}}const Nr="undefined"==typeof window?global:window,qr=Nr.performance&&(()=>Nr.performance.now())||(()=>Date.now()),Ur=Nr.requestAnimationFrame||(t=>setTimeout((()=>t(qr())),1e3/60)),Vr=Nr.cancelAnimationFrame||clearTimeout;function Yr(t){return t[t.length-1]}function Qr(t,e){const n={...t};for(const r in e){const s=t[r],i=e[r];s!==i&&(s&&i&&"object"==typeof s&&"object"==typeof i&&!Array.isArray(i)?n[r]=Qr(s,i):n[r]=i)}return n}let Xr=0;function Kr(){return Xr++,Xr}function Gr(t){return t.reduce(((t,e)=>e+t),0)/t.length}function Jr(t){const e=t.toUpperCase().trim();if(/^#([A-F0-9]{3}){1,2}$/.test(e)){let t=e.substring(1).split("");3===t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]);const n=`${t.join("")}`;return{r:parseInt(n.slice(0,2),16),g:parseInt(n.slice(2,4),16),b:parseInt(n.slice(4,6),16),a:1}}const n=e.match(/^RGBA?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d*\.?\d+))?\)$/);if(n)return{r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10),a:parseFloat(n[4]||1,10)};throw new Error(`Invalid color: ${t}`)}function Zr(t,e){const n={};for(let r=0;r<e;r++)n[r]=t;return n}const ts=(null===(Ar=Nr.navigator)||void 0===Ar?void 0:Ar.userAgent)||"",es=ts.indexOf("MSIE ")>0||ts.indexOf("Trident/")>0||ts.indexOf("Edge/")>0,ns=()=>{};class rs{constructor(t,e,n=ns){this._mutationChains=[],this._onStateChange=n,this.state={options:{drawingFadeDuration:e.drawingFadeDuration,drawingWidth:e.drawingWidth,drawingColor:Jr(e.drawingColor),strokeColor:Jr(e.strokeColor),outlineColor:Jr(e.outlineColor),radicalColor:Jr(e.radicalColor||e.strokeColor),highlightColor:Jr(e.highlightColor)},character:{main:{opacity:e.showCharacter?1:0,strokes:{}},outline:{opacity:e.showOutline?1:0,strokes:{}},highlight:{opacity:1,strokes:{}}},userStrokes:null};for(let e=0;e<t.strokes.length;e++)this.state.character.main.strokes[e]={opacity:1,displayPortion:1},this.state.character.outline.strokes[e]={opacity:1,displayPortion:1},this.state.character.highlight.strokes[e]={opacity:0,displayPortion:1}}overwriteOnStateChange(t){this._onStateChange=t}updateState(t){const e=Qr(this.state,t);this._onStateChange(e,this.state),this.state=e}run(t,e={}){const n=t.map((t=>t.scope));return this.cancelMutations(n),new Promise((r=>{const s={_isActive:!0,_index:0,_resolve:r,_mutations:t,_loop:e.loop,_scopes:n};this._mutationChains.push(s),this._run(s)}))}_run(t){if(!t._isActive)return;const e=t._mutations;if(t._index>=e.length){if(!t._loop)return t._isActive=!1,this._mutationChains=this._mutationChains.filter((e=>e!==t)),void t._resolve({canceled:!1});t._index=0}t._mutations[t._index].run(this).then((()=>{t._isActive&&(t._index++,this._run(t))}))}_getActiveMutations(){return this._mutationChains.map((t=>t._mutations[t._index]))}pauseAll(){this._getActiveMutations().forEach((t=>t.pause()))}resumeAll(){this._getActiveMutations().forEach((t=>t.resume()))}cancelMutations(t){for(const e of this._mutationChains)for(const n of e._scopes)for(const r of t)(n.startsWith(r)||r.startsWith(n))&&this._cancelMutationChain(e)}cancelAll(){this.cancelMutations([""])}_cancelMutationChain(t){var e;t._isActive=!1;for(let e=t._index;e<t._mutations.length;e++)t._mutations[e].cancel(this);null===(e=t._resolve)||void 0===e||e.call(t,{canceled:!0}),this._mutationChains=this._mutationChains.filter((e=>e!==t))}}const ss=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),is=t=>Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)),os=(t,e)=>is(ss(t,e)),as=(t,e=1)=>{const n=10*e;return{x:Math.round(n*t.x)/n,y:Math.round(n*t.y)/n}},ls=t=>{let e=t[0];return t.slice(1).reduce(((t,n)=>{const r=os(n,e);return e=n,t+r}),0)},cs=(t,e,n)=>{const r=ss(e,t),s=n/is(r);return{x:e.x+s*r.x,y:e.y+s*r.y}},hs=t=>{const e=((t,e=30)=>{const n=ls(t)/(e-1),r=[t[0]],s=Yr(t),i=t.slice(1);for(let t=0;t<e-2;t++){let t=Yr(r),e=n,s=!1;for(;!s;){const n=os(t,i[0]);if(n<e)e-=n,t=i.shift();else{const o=cs(t,i[0],e-n);r.push(o),s=!0}}}return r.push(s),r})(t),n={x:Gr(e.map((t=>t.x))),y:Gr(e.map((t=>t.y)))},r=e.map((t=>ss(t,n))),s=Math.sqrt(Gr([Math.pow(r[0].x,2)+Math.pow(r[0].y,2),Math.pow(Yr(r).x,2)+Math.pow(Yr(r).y,2)]));return((t,e=.05)=>{const n=t.slice(0,1);for(const r of t.slice(1)){const t=n[n.length-1],s=os(r,t);if(s>e){const i=Math.ceil(s/e),o=s/i;for(let e=0;e<i;e++)n.push(cs(r,t,-1*o*(e+1)))}else n.push(r)}return n})(r.map((t=>({x:t.x/s,y:t.y/s}))))};function us(t,e=!1){const n=as(t[0]),r=t.slice(1);let s=`M ${n.x} ${n.y}`;return r.forEach((t=>{const e=as(t);s+=` L ${e.x} ${e.y}`})),e&&(s+="Z"),s}const ds=(t,e)=>{const n=(t=>{if(t.length<3)return t;const e=[t[0],t[1]];return t.slice(2).forEach((t=>{const n=e.length,r=ss(t,e[n-1]),s=ss(e[n-1],e[n-2]);r.y*s.x-r.x*s.y==0&&e.pop(),e.push(t)})),e})(t);if(n.length<2)return n;const r=n[1],s=n[0],i=cs(r,s,e),o=n.slice(1);return o.unshift(i),o};class ps{constructor(t,e,n,r=!1){this.path=t,this.points=e,this.strokeNum=n,this.isInRadical=r}getStartingPoint(){return this.points[0]}getEndingPoint(){return this.points[this.points.length-1]}getLength(){return ls(this.points)}getVectors(){let t=this.points[0];return this.points.slice(1).map((e=>{const n=ss(e,t);return t=e,n}))}getDistance(t){const e=this.points.map((e=>os(e,t)));return Math.min(...e)}getAverageDistance(t){return t.reduce(((t,e)=>t+this.getDistance(e)),0)/t.length}}class fs{constructor(t,e){this.symbol=t,this.strokes=e}}function gs({radStrokes:t,strokes:e,medians:n}){return e.map(((e,r)=>{const s=n[r].map((t=>{const[e,n]=t;return{x:e,y:n}}));return new ps(e,s,r,(i=r,(null!==(o=null==t?void 0:t.indexOf(i))&&void 0!==o?o:-1)>=0));var i,o}))}const[ms,_s]=[{x:0,y:-124},{x:1024,y:900}],vs=_s.x-ms.x,$s=_s.y-ms.y;class ks{constructor(t){const{padding:e,width:n,height:r}=t;this.padding=e,this.width=n,this.height=r;const s=n-2*e,i=r-2*e,o=s/vs,a=i/$s;this.scale=Math.min(o,a);const l=e+(s-this.scale*vs)/2,c=e+(i-this.scale*$s)/2;this.xOffset=-1*ms.x*this.scale+l,this.yOffset=-1*ms.y*this.scale+c}convertExternalPoint(t){return{x:(t.x-this.xOffset)/this.scale,y:(this.height-this.yOffset-t.y)/this.scale}}}const ws=(t,e)=>{const n=(t=>{const e=[];let n=t[0];return t.slice(1).forEach((t=>{e.push(ss(t,n)),n=t})),e})(t),r=e.getVectors();return Gr(n.map((t=>{const e=r.map((e=>{return r=t,((n=e).x*r.x+n.y*r.y)/is(n)/is(r);var n,r}));return Math.max(...e)})))>0},ys=t=>{if(t.length<2)return t;const[e,...n]=t,r=[e];for(const t of n)s=t,i=r[r.length-1],(s.x!==i.x||s.y!==i.y)&&r.push(t);var s,i;return r},xs=[Math.PI/16,Math.PI/32,0,-1*Math.PI/32,-1*Math.PI/16],Cs=(t,e,n)=>{const r=hs(t),s=hs(e);let i=1/0;return xs.forEach((t=>{const e=((t,e)=>{const n=t.length>=e.length?t:e,r=t.length>=e.length?e:t,s=(t,e,s,i)=>{if(0===t&&0===e)return os(n[0],r[0]);if(t>0&&0===e)return Math.max(s[0],os(n[t],r[0]));const o=i[i.length-1];return 0===t&&e>0?Math.max(o,os(n[0],r[e])):Math.max(Math.min(s[e],s[e-1],o),os(n[t],r[e]))};let i=[];for(let t=0;t<n.length;t++){const e=[];for(let n=0;n<r.length;n++)e.push(s(t,n,i,e));i=e}return i[r.length-1]})(r,((t,e)=>t.map((t=>({x:Math.cos(e)*t.x-Math.sin(e)*t.y,y:Math.sin(e)*t.x+Math.cos(e)*t.y}))))(s,t));e<i&&(i=e)})),i<=.4*n},bs=(t,e,n)=>{const{leniency:r=1,isOutlineVisible:s=!1,checkBackwards:i=!0}=n,o=e.getAverageDistance(t),a=o<=350*(s||e.strokeNum>0?.5:1)*r;if(!a)return{isMatch:!1,avgDist:o,meta:{isStrokeBackwards:!1}};const l=((t,e,n)=>{const r=os(e.getStartingPoint(),t[0]),s=os(e.getEndingPoint(),t[t.length-1]);return r<=250*n&&s<=250*n})(t,e,r),c=ws(t,e),h=Cs(t,e.points,r),u=((t,e,n)=>n*(ls(t)+25)/(e.getLength()+25)>=.35)(t,e,r),d=a&&l&&c&&h&&u;if(i&&!d){if(bs([...t].reverse(),e,{...n,checkBackwards:!1}).isMatch)return{isMatch:d,avgDist:o,meta:{isStrokeBackwards:!0}}}return{isMatch:d,avgDist:o,meta:{isStrokeBackwards:!1}}};class Ss{constructor(t,e,n){this.id=t,this.points=[e],this.externalPoints=[n]}appendPoint(t,e){this.points.push(t),this.externalPoints.push(e)}}class zs{constructor(t,e,n={}){this._tick=t=>{if(null!==this._startPauseTime)return;const e=Math.min(1,(t-this._startTime-this._pausedDuration)/this._duration);if(1===e)this._renderState.updateState(this._values),this._frameHandle=void 0,this.cancel(this._renderState);else{const t=Ms(e),n=Ps(this._startState,this._values,t);this._renderState.updateState(n),this._frameHandle=Ur(this._tick)}},this.scope=t,this._valuesOrCallable=e,this._duration=n.duration||0,this._force=n.force,this._pausedDuration=0,this._startPauseTime=null}run(t){return this._values||this._inflateValues(t),0===this._duration&&t.updateState(this._values),0===this._duration||Ds(t.state,this._values)?Promise.resolve():(this._renderState=t,this._startState=t.state,this._startTime=performance.now(),this._frameHandle=Ur(this._tick),new Promise((t=>{this._resolve=t})))}_inflateValues(t){let e=this._valuesOrCallable;"function"==typeof this._valuesOrCallable&&(e=this._valuesOrCallable(t.state)),this._values=function(t,e){const n=t.split("."),r={};let s=r;for(let t=0;t<n.length;t++){const r=t===n.length-1?e:{};s[n[t]]=r,s=r}return r}(this.scope,e)}pause(){null===this._startPauseTime&&(this._frameHandle&&Vr(this._frameHandle),this._startPauseTime=performance.now())}resume(){null!==this._startPauseTime&&(this._frameHandle=Ur(this._tick),this._pausedDuration+=performance.now()-this._startPauseTime,this._startPauseTime=null)}cancel(t){var e;null===(e=this._resolve)||void 0===e||e.call(this),this._resolve=void 0,Vr(this._frameHandle||-1),this._frameHandle=void 0,this._force&&(this._values||this._inflateValues(t),t.updateState(this._values))}}function Ps(t,e,n){const r={};for(const s in e){const i=e[s],o=null==t?void 0:t[s];r[s]="number"==typeof o&&"number"==typeof i&&i>=0?n*(i-o)+o:Ps(o,i,n)}return r}function Ds(t,e){for(const n in e){const r=e[n],s=null==t?void 0:t[n];if(r>=0){if(r!==s)return!1}else if(!Ds(s,r))return!1}return!0}zs.Delay=class{constructor(t){this._duration=t,this._startTime=null,this._paused=!1,this.scope=`delay.${t}`}run(){return this._startTime=qr(),this._runningPromise=new Promise((t=>{this._resolve=t,this._timeout=setTimeout((()=>this.cancel()),this._duration)})),this._runningPromise}pause(){if(this._paused)return;const t=performance.now()-(this._startTime||0);this._duration=Math.max(0,this._duration-t),clearTimeout(this._timeout),this._paused=!0}resume(){this._paused&&(this._startTime=performance.now(),this._timeout=setTimeout((()=>this.cancel()),this._duration),this._paused=!1)}cancel(){clearTimeout(this._timeout),this._resolve&&this._resolve(),this._resolve=void 0}};const Ms=t=>-Math.cos(t*Math.PI)/2+.5,Es=(t,e,n)=>[new zs(`character.${t}.strokes`,Zr({opacity:1,displayPortion:1},e.strokes.length),{duration:n,force:!0})],Ts=(t,e,n)=>[new zs(`character.${t}`,{opacity:1,strokes:Zr({opacity:1,displayPortion:1},e.strokes.length)},{duration:n,force:!0})],Ws=(t,e,n)=>[new zs(`character.${t}.opacity`,0,{duration:n,force:!0}),...Es(t,e,0)],Rs=(t,e,n)=>[new zs(`options.${t}`,e,{duration:n})],As=(t,e,n)=>{const r=t.strokeNum,s=(t.getLength()+600)/(3*n);return[new zs("character.highlight.strokeColor",e),new zs("character.highlight",{opacity:1,strokes:{[r]:{displayPortion:0,opacity:0}}}),new zs(`character.highlight.strokes.${r}`,{displayPortion:1,opacity:1},{duration:s}),new zs(`character.highlight.strokes.${r}.opacity`,0,{duration:s})]},Os=(t,e,n)=>{const r=e.strokeNum,s=(e.getLength()+600)/(3*n);return[new zs(`character.${t}`,{opacity:1,strokes:{[r]:{displayPortion:0,opacity:1}}}),new zs(`character.${t}.strokes.${r}.displayPortion`,1,{duration:s})]},Ls=(t,e,n,r,s)=>{let i=Ws(t,e,n);return i=i.concat(Es(t,e,0)),i.push(new zs(`character.${t}`,{opacity:1,strokes:Zr({opacity:0},e.strokes.length)},{force:!0})),e.strokes.forEach(((e,n)=>{n>0&&i.push(new zs.Delay(s)),i=i.concat(Os(t,e,r))})),i},Is=(t,e)=>[new zs(`userStrokes.${t}.opacity`,0,{duration:e}),new zs(`userStrokes.${t}`,null,{force:!0})];class Bs{constructor(t,e,n){this._currentStrokeIndex=0,this._mistakesOnStroke=0,this._totalMistakes=0,this._character=t,this._renderState=e,this._isActive=!1,this._positioner=n}startQuiz(t){return this._isActive=!0,this._options=t,this._currentStrokeIndex=0,this._mistakesOnStroke=0,this._totalMistakes=0,this._renderState.run((e=this._character,n=t.strokeFadeDuration,[...Ws("main",e,n),new zs("character.highlight",{opacity:1,strokes:Zr({opacity:0},e.strokes.length)},{force:!0}),new zs("character.main",{opacity:1,strokes:Zr({opacity:0},e.strokes.length)},{force:!0})]));var e,n}startUserStroke(t){if(!this._isActive)return null;if(this._userStroke)return this.endUserStroke();const e=this._positioner.convertExternalPoint(t),n=Kr();return this._userStroke=new Ss(n,e,t),this._renderState.run(((t,e)=>[new zs("quiz.activeUserStrokeId",t,{force:!0}),new zs(`userStrokes.${t}`,{points:[e],opacity:1},{force:!0})])(n,e))}continueUserStroke(t){if(!this._userStroke)return Promise.resolve();const e=this._positioner.convertExternalPoint(t);this._userStroke.appendPoint(e,t);const n=this._userStroke.points.slice(0);return this._renderState.run((r=this._userStroke.id,[new zs(`userStrokes.${r}.points`,n,{force:!0})]));var r}setPositioner(t){this._positioner=t}endUserStroke(){var t;if(!this._userStroke)return;if(this._renderState.run(Is(this._userStroke.id,null!==(t=this._options.drawingFadeDuration)&&void 0!==t?t:300)),1===this._userStroke.points.length)return void(this._userStroke=void 0);const{acceptBackwardsStrokes:e}=this._options,n=this._getCurrentStroke(),{isMatch:r,meta:s}=function(t,e,n,r={}){const s=e.strokes,i=ys(t.points);if(i.length<2)return{isMatch:!1,meta:{isStrokeBackwards:!1}};const{isMatch:o,meta:a,avgDist:l}=bs(i,s[n],r);if(!o)return{isMatch:o,meta:a};const c=s.slice(n+1);let h=l;for(let t=0;t<c.length;t++){const{isMatch:e,avgDist:n}=bs(i,c[t],{...r,checkBackwards:!1});e&&n<h&&(h=n)}if(h<l){const t=.6*(h+l)/(2*l),{isMatch:e,meta:o}=bs(i,s[n],{...r,leniency:(r.leniency||1)*t});return{isMatch:e,meta:o}}return{isMatch:o,meta:a}}(this._userStroke,this._character,this._currentStrokeIndex,{isOutlineVisible:this._renderState.state.character.outline.opacity>0,leniency:this._options.leniency});if(r||s.isStrokeBackwards&&e)this._handleSuccess(s);else{this._handleFailure(s);const{showHintAfterMisses:t,highlightColor:e,strokeHighlightSpeed:r}=this._options;!1!==t&&this._mistakesOnStroke>=t&&this._renderState.run(As(n,Jr(e),r))}this._userStroke=void 0}cancel(){this._isActive=!1,this._userStroke&&this._renderState.run(Is(this._userStroke.id,this._options.drawingFadeDuration))}_getStrokeData({isCorrect:t,meta:e}){return{character:this._character.symbol,strokeNum:this._currentStrokeIndex,mistakesOnStroke:this._mistakesOnStroke,totalMistakes:this._totalMistakes,strokesRemaining:this._character.strokes.length-this._currentStrokeIndex-(t?1:0),drawnPath:(n=this._userStroke,{pathString:us(n.externalPoints),points:n.points.map((t=>as(t)))}),isBackwards:e.isStrokeBackwards};var n}_handleSuccess(t){if(!this._options)return;const{strokes:e,symbol:n}=this._character,{onCorrectStroke:r,onComplete:s,highlightOnComplete:i,strokeFadeDuration:o,strokeHighlightDuration:a}=this._options;null==r||r({...this._getStrokeData({isCorrect:!0,meta:t})});let l=(c="main",h=this._currentStrokeIndex,[new zs(`character.${c}.strokes.${h}`,{displayPortion:1,opacity:1},{duration:o,force:!0})]);var c,h;this._mistakesOnStroke=0,this._currentStrokeIndex+=1;this._currentStrokeIndex===e.length&&(this._isActive=!1,null==s||s({character:n,totalMistakes:this._totalMistakes}),i&&(l=l.concat(((t,e)=>[...Ws("highlight",t),...Ts("highlight",t,e/2),...Ws("highlight",t,e/2)])(this._character,2*(a||0))))),this._renderState.run(l)}_handleFailure(t){var e,n;this._mistakesOnStroke+=1,this._totalMistakes+=1,null===(e=(n=this._options).onMistake)||void 0===e||e.call(n,this._getStrokeData({isCorrect:!1,meta:t}))}_getCurrentStroke(){return this._character.strokes[this._currentStrokeIndex]}}function js(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Fs(t,e,n){t.setAttributeNS(null,e,n)}function Hs(t,e){Object.keys(e).forEach((n=>Fs(t,n,e[n])))}function Ns(t){var e;null==t||null===(e=t.parentNode)||void 0===e||e.removeChild(t)}class qs{constructor(t){this.stroke=t,this._pathLength=t.getLength()+qs.STROKE_WIDTH/2}_getStrokeDashoffset(t){return.999*this._pathLength*(1-t)}_getColor({strokeColor:t,radicalColor:e}){return e&&this.stroke.isInRadical?e:t}}qs.STROKE_WIDTH=200;class Us extends qs{constructor(t){super(t),this._oldProps=void 0}mount(t){this._animationPath=js("path"),this._clip=js("clipPath"),this._strokePath=js("path");const e=`mask-${Kr()}`;Fs(this._clip,"id",e),Fs(this._strokePath,"d",this.stroke.path),this._animationPath.style.opacity="0",Fs(this._animationPath,"clip-path",function(t){let e="";return window.location&&window.location.href&&(e=window.location.href.replace(/#[^#]*$/,"").replace(/"/gi,"%22")),`url("${e}#${t}")`}(e));const n=ds(this.stroke.points,100);return Fs(this._animationPath,"d",us(n)),Hs(this._animationPath,{stroke:"#FFFFFF","stroke-width":200..toString(),fill:"none","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":`${this._pathLength},${this._pathLength}`}),this._clip.appendChild(this._strokePath),t.defs.appendChild(this._clip),t.svg.appendChild(this._animationPath),this}render(t){var e,n;if(t===this._oldProps||!this._animationPath)return;t.displayPortion!==(null===(e=this._oldProps)||void 0===e?void 0:e.displayPortion)&&(this._animationPath.style.strokeDashoffset=this._getStrokeDashoffset(t.displayPortion).toString());const r=this._getColor(t);if(!this._oldProps||r!==this._getColor(this._oldProps)){const{r:t,g:e,b:n,a:s}=r;Hs(this._animationPath,{stroke:`rgba(${t},${e},${n},${s})`})}t.opacity!==(null===(n=this._oldProps)||void 0===n?void 0:n.opacity)&&(this._animationPath.style.opacity=t.opacity.toString()),this._oldProps=t}}class Vs{constructor(t){this._oldProps=void 0,this._strokeRenderers=t.strokes.map((t=>new Us(t)))}mount(t){const e=t.createSubRenderTarget();this._group=e.svg,this._strokeRenderers.forEach((t=>{t.mount(e)}))}render(t){var e,n;if(t===this._oldProps||!this._group)return;const{opacity:r,strokes:s,strokeColor:i,radicalColor:o=null}=t;var a;r!==(null===(e=this._oldProps)||void 0===e?void 0:e.opacity)&&(this._group.style.opacity=r.toString(),es||(0===r?this._group.style.display="none":0===(null===(a=this._oldProps)||void 0===a?void 0:a.opacity)&&this._group.style.removeProperty("display")));const l=!this._oldProps||i!==this._oldProps.strokeColor||o!==this._oldProps.radicalColor;if(l||s!==(null===(n=this._oldProps)||void 0===n?void 0:n.strokes))for(let t=0;t<this._strokeRenderers.length;t++){var c;!l&&null!==(c=this._oldProps)&&void 0!==c&&c.strokes&&s[t]===this._oldProps.strokes[t]||this._strokeRenderers[t].render({strokeColor:i,radicalColor:o,opacity:s[t].opacity,displayPortion:s[t].displayPortion})}this._oldProps=t}}class Ys{constructor(){this._oldProps=void 0}mount(t){this._path=js("path"),t.svg.appendChild(this._path)}render(t){var e,n,r,s;if(this._path&&t!==this._oldProps){if(t.strokeColor!==(null===(e=this._oldProps)||void 0===e?void 0:e.strokeColor)||t.strokeWidth!==(null===(n=this._oldProps)||void 0===n?void 0:n.strokeWidth)){const{r:e,g:n,b:r,a:s}=t.strokeColor;Hs(this._path,{fill:"none",stroke:`rgba(${e},${n},${r},${s})`,"stroke-width":t.strokeWidth.toString(),"stroke-linecap":"round","stroke-linejoin":"round"})}t.opacity!==(null===(r=this._oldProps)||void 0===r?void 0:r.opacity)&&Fs(this._path,"opacity",t.opacity.toString()),t.points!==(null===(s=this._oldProps)||void 0===s?void 0:s.points)&&Fs(this._path,"d",us(t.points)),this._oldProps=t}}destroy(){Ns(this._path)}}class Qs{constructor(t){this.node=t}addPointerStartListener(t){this.node.addEventListener("mousedown",(e=>{t(this._eventify(e,this._getMousePoint))})),this.node.addEventListener("touchstart",(e=>{t(this._eventify(e,this._getTouchPoint))}))}addPointerMoveListener(t){this.node.addEventListener("mousemove",(e=>{t(this._eventify(e,this._getMousePoint))})),this.node.addEventListener("touchmove",(e=>{t(this._eventify(e,this._getTouchPoint))}))}addPointerEndListener(t){document.addEventListener("mouseup",t),document.addEventListener("touchend",t)}getBoundingClientRect(){return this.node.getBoundingClientRect()}updateDimensions(t,e){this.node.setAttribute("width",`${t}`),this.node.setAttribute("height",`${e}`)}_eventify(t,e){return{getPoint:()=>e.call(this,t),preventDefault:()=>t.preventDefault()}}_getMousePoint(t){const{left:e,top:n}=this.getBoundingClientRect();return{x:t.clientX-e,y:t.clientY-n}}_getTouchPoint(t){const{left:e,top:n}=this.getBoundingClientRect();return{x:t.touches[0].clientX-e,y:t.touches[0].clientY-n}}}class Xs extends Qs{constructor(t,e){super(t),this.svg=t,this.defs=e,"createSVGPoint"in t&&(this._pt=t.createSVGPoint())}static init(t,e="100%",n="100%"){const r="string"==typeof t?document.getElementById(t):t;if(!r)throw new Error(`HanziWriter target element not found: ${t}`);const s=r.nodeName.toUpperCase(),i=(()=>{if("SVG"===s||"G"===s)return r;{const t=js("svg");return r.appendChild(t),t}})();Hs(i,{width:e,height:n});const o=js("defs");return i.appendChild(o),new Xs(i,o)}createSubRenderTarget(){const t=js("g");return this.svg.appendChild(t),new Xs(t,this.defs)}_getMousePoint(t){if(this._pt&&(this._pt.x=t.clientX,this._pt.y=t.clientY,"getScreenCTM"in this.node)){var e;const t=this._pt.matrixTransform(null===(e=this.node.getScreenCTM())||void 0===e?void 0:e.inverse());return{x:t.x,y:t.y}}return super._getMousePoint.call(this,t)}_getTouchPoint(t){if(this._pt&&(this._pt.x=t.touches[0].clientX,this._pt.y=t.touches[0].clientY,"getScreenCTM"in this.node)){var e;const t=this._pt.matrixTransform(null===(e=this.node.getScreenCTM())||void 0===e?void 0:e.inverse());return{x:t.x,y:t.y}}return super._getTouchPoint(t)}}var Ks={HanziWriterRenderer:class{constructor(t,e){this._character=t,this._positioner=e,this._mainCharRenderer=new Vs(t),this._outlineCharRenderer=new Vs(t),this._highlightCharRenderer=new Vs(t),this._userStrokeRenderers={}}mount(t){const e=t.createSubRenderTarget(),n=e.svg,{xOffset:r,yOffset:s,height:i,scale:o}=this._positioner;Fs(n,"transform",`translate(${r}, ${i-s}) scale(${o}, ${-1*o})`),this._outlineCharRenderer.mount(e),this._mainCharRenderer.mount(e),this._highlightCharRenderer.mount(e),this._positionedTarget=e}render(t){const{main:e,outline:n,highlight:r}=t.character,{outlineColor:s,radicalColor:i,highlightColor:o,strokeColor:a,drawingWidth:l,drawingColor:c}=t.options;this._outlineCharRenderer.render({opacity:n.opacity,strokes:n.strokes,strokeColor:s}),this._mainCharRenderer.render({opacity:e.opacity,strokes:e.strokes,strokeColor:a,radicalColor:i}),this._highlightCharRenderer.render({opacity:r.opacity,strokes:r.strokes,strokeColor:o});const h=t.userStrokes||{};for(const t in this._userStrokeRenderers){var u;if(!h[t])null===(u=this._userStrokeRenderers[t])||void 0===u||u.destroy(),delete this._userStrokeRenderers[t]}for(const t in h){const e=h[t];if(!e)continue;const n={strokeWidth:l,strokeColor:c,...e};(()=>{if(this._userStrokeRenderers[t])return this._userStrokeRenderers[t];const e=new Ys;return e.mount(this._positionedTarget),this._userStrokeRenderers[t]=e,e})().render(n)}}destroy(){Ns(this._positionedTarget.svg),this._positionedTarget.defs.innerHTML=""}},createRenderTarget:Xs.init};const Gs=(t,e)=>{t.beginPath();const n=e[0],r=e.slice(1);t.moveTo(n.x,n.y);for(const e of r)t.lineTo(e.x,e.y);t.stroke()};class Js extends qs{constructor(t,e=!0){super(t),e&&Path2D?this._path2D=new Path2D(this.stroke.path):this._pathCmd=(t=>{const e=t.split(/(^|\s+)(?=[A-Z])/).filter((t=>" "!==t)),n=[t=>t.beginPath()];for(const t of e){const[e,...r]=t.split(/\s+/),s=r.map((t=>parseFloat(t)));"M"===e?n.push((t=>t.moveTo(...s))):"L"===e?n.push((t=>t.lineTo(...s))):"C"===e?n.push((t=>t.bezierCurveTo(...s))):"Q"===e&&n.push((t=>t.quadraticCurveTo(...s)))}return t=>n.forEach((e=>e(t)))})(this.stroke.path),this._extendedMaskPoints=ds(this.stroke.points,qs.STROKE_WIDTH/2)}render(t,e){if(e.opacity<.05)return;var n;(t.save(),this._path2D)?t.clip(this._path2D):(null===(n=this._pathCmd)||void 0===n||n.call(this,t),t.globalAlpha=0,t.stroke(),t.clip());const{r:r,g:s,b:i,a:o}=this._getColor(e),a=1===o?`rgb(${r},${s},${i})`:`rgb(${r},${s},${i},${o})`,l=this._getStrokeDashoffset(e.displayPortion);t.globalAlpha=e.opacity,t.strokeStyle=a,t.fillStyle=a,t.lineWidth=qs.STROKE_WIDTH,t.lineCap="round",t.lineJoin="round",t.setLineDash([this._pathLength,this._pathLength],l),t.lineDashOffset=l,Gs(t,this._extendedMaskPoints),t.restore()}}class Zs{constructor(t){this._strokeRenderers=t.strokes.map((t=>new Js(t)))}render(t,e){if(e.opacity<.05)return;const{opacity:n,strokeColor:r,radicalColor:s,strokes:i}=e;for(let e=0;e<this._strokeRenderers.length;e++)this._strokeRenderers[e].render(t,{strokeColor:r,radicalColor:s,opacity:i[e].opacity*n,displayPortion:i[e].displayPortion||0})}}function ti(t,e){if(e.opacity<.05)return;const{opacity:n,strokeWidth:r,strokeColor:s,points:i}=e,{r:o,g:a,b:l,a:c}=s;t.save(),t.globalAlpha=n,t.lineWidth=r,t.strokeStyle=`rgba(${o},${a},${l},${c})`,t.lineCap="round",t.lineJoin="round",Gs(t,i),t.restore()}class ei extends Qs{constructor(t){super(t)}static init(t,e="100%",n="100%"){const r="string"==typeof t?document.getElementById(t):t;if(!r)throw new Error(`HanziWriter target element not found: ${t}`);const s=r.nodeName.toUpperCase(),i=(()=>{if("CANVAS"===s)return r;const t=document.createElement("canvas");return r.appendChild(t),t})();return i.setAttribute("width",e),i.setAttribute("height",n),new ei(i)}getContext(){return this.node.getContext("2d")}}var ni={HanziWriterRenderer:class{constructor(t,e){this.destroy=ns,this._character=t,this._positioner=e,this._mainCharRenderer=new Zs(t),this._outlineCharRenderer=new Zs(t),this._highlightCharRenderer=new Zs(t)}mount(t){this._target=t}_animationFrame(t){const{width:e,height:n,scale:r,xOffset:s,yOffset:i}=this._positioner,o=this._target.getContext();o.clearRect(0,0,e,n),o.save(),o.translate(s,n-i),o.transform(1,0,0,-1,0,0),o.scale(r,r),t(o),o.restore(),o.draw&&o.draw()}render(t){const{outline:e,main:n,highlight:r}=t.character,{outlineColor:s,strokeColor:i,radicalColor:o,highlightColor:a,drawingColor:l,drawingWidth:c}=t.options;this._animationFrame((h=>{this._outlineCharRenderer.render(h,{opacity:e.opacity,strokes:e.strokes,strokeColor:s}),this._mainCharRenderer.render(h,{opacity:n.opacity,strokes:n.strokes,strokeColor:i,radicalColor:o}),this._highlightCharRenderer.render(h,{opacity:r.opacity,strokes:r.strokes,strokeColor:a});const u=t.userStrokes||{};for(const t in u){const e=u[t];if(e){ti(h,{strokeWidth:c,strokeColor:l,...e})}}}))}},createRenderTarget:ei.init};const ri={charDataLoader:(t,e,n)=>{const r=new XMLHttpRequest;r.overrideMimeType&&r.overrideMimeType("application/json"),r.open("GET",(t=>`https://cdn.jsdelivr.net/npm/hanzi-writer-data@2.0/${t}.json`)(t),!0),r.onerror=t=>{n(r,t)},r.onreadystatechange=()=>{4===r.readyState&&(200===r.status?e(JSON.parse(r.responseText)):0!==r.status&&n&&n(r))},r.send(null)},onLoadCharDataError:null,onLoadCharDataSuccess:null,showOutline:!0,showCharacter:!0,renderer:"svg",width:0,height:0,padding:20,strokeAnimationSpeed:1,strokeFadeDuration:400,strokeHighlightDuration:200,strokeHighlightSpeed:2,delayBetweenStrokes:1e3,delayBetweenLoops:2e3,strokeColor:"#555",radicalColor:null,highlightColor:"#AAF",outlineColor:"#DDD",drawingColor:"#333",leniency:1,showHintAfterMisses:3,highlightOnComplete:!0,highlightCompleteColor:null,acceptBackwardsStrokes:!1,drawingFadeDuration:300,drawingWidth:4,strokeWidth:2,outlineWidth:2,rendererOverride:{}};class si{constructor(t){this._loadCounter=0,this._isLoading=!1,this.loadingFailed=!1,this._options=t}_debouncedLoad(t,e){const n=t=>{var n;e===this._loadCounter&&(null===(n=this._resolve)||void 0===n||n.call(this,t))},r=t=>{var n;e===this._loadCounter&&(null===(n=this._reject)||void 0===n||n.call(this,t))},s=this._options.charDataLoader(t,n,r);s&&("then"in s?s.then(n).catch(r):n(s))}_setupLoadingPromise(){return new Promise(((t,e)=>{this._resolve=t,this._reject=e})).then((t=>{var e,n;return this._isLoading=!1,null===(e=(n=this._options).onLoadCharDataSuccess)||void 0===e||e.call(n,t),t})).catch((t=>{if(this._isLoading=!1,this.loadingFailed=!0,this._options.onLoadCharDataError)return void this._options.onLoadCharDataError(t);if(t instanceof Error)throw t;const e=new Error(`Failed to load char data for ${this._loadingChar}`);throw e.reason=t,e}))}loadCharData(t){this._loadingChar=t;const e=this._setupLoadingPromise();return this.loadingFailed=!1,this._isLoading=!0,this._loadCounter++,this._debouncedLoad(t,this._loadCounter),e}}class ii{constructor(t,e={}){const{HanziWriterRenderer:n,createRenderTarget:r}="canvas"===e.renderer?ni:Ks,s=e.rendererOverride||{};this._renderer={HanziWriterRenderer:s.HanziWriterRenderer||n,createRenderTarget:s.createRenderTarget||r},this.target=this._renderer.createRenderTarget(t,e.width,e.height),this._options=this._assignOptions(e),this._loadingManager=new si(this._options),this._setupListeners()}static create(t,e,n){const r=new ii(t,n);return r.setCharacter(e),r}static loadCharacterData(t,e={}){const n=(()=>{const{_loadingManager:n,_loadingOptions:r}=ii;return(null==n?void 0:n._loadingChar)===t&&r===e?n:new si({...ri,...e})})();return ii._loadingManager=n,ii._loadingOptions=e,n.loadCharData(t)}static getScalingTransform(t,e,n=0){const r=new ks({width:t,height:e,padding:n});return{x:r.xOffset,y:r.yOffset,scale:r.scale,transform:(s=`\n        translate(${r.xOffset}, ${r.height-r.yOffset})\n        scale(${r.scale}, ${-1*r.scale})\n      `,s.replace(/^\s+/,"").replace(/\s+$/,"")).replace(/\s+/g," ")};var s}showCharacter(t={}){return this._options.showCharacter=!0,this._withData((()=>{var e;return null===(e=this._renderState)||void 0===e?void 0:e.run(Ts("main",this._character,"number"==typeof t.duration?t.duration:this._options.strokeFadeDuration)).then((e=>{var n;return null===(n=t.onComplete)||void 0===n||n.call(t,e),e}))}))}hideCharacter(t={}){return this._options.showCharacter=!1,this._withData((()=>{var e;return null===(e=this._renderState)||void 0===e?void 0:e.run(Ws("main",this._character,"number"==typeof t.duration?t.duration:this._options.strokeFadeDuration)).then((e=>{var n;return null===(n=t.onComplete)||void 0===n||n.call(t,e),e}))}))}animateCharacter(t={}){return this.cancelQuiz(),this._withData((()=>{var e;return null===(e=this._renderState)||void 0===e?void 0:e.run(Ls("main",this._character,this._options.strokeFadeDuration,this._options.strokeAnimationSpeed,this._options.delayBetweenStrokes)).then((e=>{var n;return null===(n=t.onComplete)||void 0===n||n.call(t,e),e}))}))}animateStroke(t,e={}){return this.cancelQuiz(),this._withData((()=>{var n;return null===(n=this._renderState)||void 0===n?void 0:n.run(((t,e,n,r)=>{const s=e.strokes[n];return[new zs(`character.${t}`,(n=>{const r=n.character[t],s={opacity:1,strokes:{}};for(let t=0;t<e.strokes.length;t++)s.strokes[t]={opacity:r.opacity*r.strokes[t].opacity};return s})),...Os(t,s,r)]})("main",this._character,t,this._options.strokeAnimationSpeed)).then((t=>{var n;return null===(n=e.onComplete)||void 0===n||n.call(e,t),t}))}))}highlightStroke(t,e={}){return this._withData((()=>{if(this._character&&this._renderState)return this._renderState.run(As(this._character.strokes[t],Jr(this._options.highlightColor),this._options.strokeHighlightSpeed)).then((t=>{var n;return null===(n=e.onComplete)||void 0===n||n.call(e,t),t}))}))}async loopCharacterAnimation(){return this.cancelQuiz(),this._withData((()=>this._renderState.run(((t,e,n,r,s,i)=>{const o=Ls(t,e,n,r,s);return o.push(new zs.Delay(i)),o})("main",this._character,this._options.strokeFadeDuration,this._options.strokeAnimationSpeed,this._options.delayBetweenStrokes,this._options.delayBetweenLoops),{loop:!0})))}pauseAnimation(){return this._withData((()=>{var t;return null===(t=this._renderState)||void 0===t?void 0:t.pauseAll()}))}resumeAnimation(){return this._withData((()=>{var t;return null===(t=this._renderState)||void 0===t?void 0:t.resumeAll()}))}showOutline(t={}){return this._options.showOutline=!0,this._withData((()=>{var e;return null===(e=this._renderState)||void 0===e?void 0:e.run(Ts("outline",this._character,"number"==typeof t.duration?t.duration:this._options.strokeFadeDuration)).then((e=>{var n;return null===(n=t.onComplete)||void 0===n||n.call(t,e),e}))}))}hideOutline(t={}){return this._options.showOutline=!1,this._withData((()=>{var e;return null===(e=this._renderState)||void 0===e?void 0:e.run(Ws("outline",this._character,"number"==typeof t.duration?t.duration:this._options.strokeFadeDuration)).then((e=>{var n;return null===(n=t.onComplete)||void 0===n||n.call(t,e),e}))}))}updateDimensions({width:t,height:e,padding:n}){if(void 0!==t&&(this._options.width=t),void 0!==e&&(this._options.height=e),void 0!==n&&(this._options.padding=n),this.target.updateDimensions(this._options.width,this._options.height),this._character&&this._renderState&&this._hanziWriterRenderer&&this._positioner){this._hanziWriterRenderer.destroy();const t=this._initAndMountHanziWriterRenderer(this._character);this._renderState.overwriteOnStateChange((e=>t.render(e))),t.render(this._renderState.state),this._quiz&&this._quiz.setPositioner(this._positioner)}}updateColor(t,e,n={}){var r;let s=[];const i=Jr((()=>"radicalColor"!==t||e?e:this._options.strokeColor)());this._options[t]=e;const o=null!==(r=n.duration)&&void 0!==r?r:this._options.strokeFadeDuration;return s=s.concat(Rs(t,i,o)),"radicalColor"!==t||e||(s=s.concat(Rs(t,null,0))),this._withData((()=>{var t;return null===(t=this._renderState)||void 0===t?void 0:t.run(s).then((t=>{var e;return null===(e=n.onComplete)||void 0===e||e.call(n,t),t}))}))}quiz(t={}){return this._withData((async()=>{this._character&&this._renderState&&this._positioner&&(this.cancelQuiz(),this._quiz=new Bs(this._character,this._renderState,this._positioner),this._options={...this._options,...t},this._quiz.startQuiz(this._options))}))}cancelQuiz(){this._quiz&&(this._quiz.cancel(),this._quiz=void 0)}setCharacter(t){return this.cancelQuiz(),this._char=t,this._hanziWriterRenderer&&this._hanziWriterRenderer.destroy(),this._renderState&&this._renderState.cancelAll(),this._hanziWriterRenderer=null,this._withDataPromise=this._loadingManager.loadCharData(t).then((e=>{if(!e||this._loadingManager.loadingFailed)return;this._character=function(t,e){const n=gs(e);return new fs(t,n)}(t,e),this._renderState=new rs(this._character,this._options,(t=>n.render(t)));const n=this._initAndMountHanziWriterRenderer(this._character);n.render(this._renderState.state)})),this._withDataPromise}_initAndMountHanziWriterRenderer(t){const{width:e,height:n,padding:r}=this._options;this._positioner=new ks({width:e,height:n,padding:r});const s=new this._renderer.HanziWriterRenderer(t,this._positioner);return s.mount(this.target),this._hanziWriterRenderer=s,s}async getCharacterData(){if(!this._char)throw new Error("setCharacter() must be called before calling getCharacterData()");return await this._withData((()=>this._character))}_assignOptions(t){const e={...ri,...t};return t.strokeAnimationDuration&&!t.strokeAnimationSpeed&&(e.strokeAnimationSpeed=500/t.strokeAnimationDuration),t.strokeHighlightDuration&&!t.strokeHighlightSpeed&&(e.strokeHighlightSpeed=500/e.strokeHighlightDuration),t.highlightCompleteColor||(e.highlightCompleteColor=e.highlightColor),this._fillWidthAndHeight(e)}_fillWidthAndHeight(t){const e={...t};if(e.width&&!e.height)e.height=e.width;else if(e.height&&!e.width)e.width=e.height;else if(!e.width&&!e.height){const{width:t,height:n}=this.target.getBoundingClientRect(),r=Math.min(t,n);e.width=r,e.height=r}return e}_withData(t){if(this._loadingManager.loadingFailed)throw Error("Failed to load character data. Call setCharacter and try again.");return this._withDataPromise?this._withDataPromise.then((()=>{if(!this._loadingManager.loadingFailed)return t()})):Promise.resolve().then(t)}_setupListeners(){this.target.addPointerStartListener((t=>{this._quiz&&(t.preventDefault(),this._quiz.startUserStroke(t.getPoint()))})),this.target.addPointerMoveListener((t=>{this._quiz&&(t.preventDefault(),this._quiz.continueUserStroke(t.getPoint()))})),this.target.addPointerEndListener((()=>{var t;null===(t=this._quiz)||void 0===t||t.endUserStroke()}))}}function oi(t){let e;return{c(){e=v("span"),e.textContent="Simplified",C(e,"class","svelte-1b0c0r1"),S(e,"script-selector--active","simplified"==t[1])},m(t,n){g(t,e,n)},p(t,n){2&n&&S(e,"script-selector--active","simplified"==t[1])},d(t){t&&m(e)}}}function ai(t){let e;return{c(){e=v("span"),e.textContent="Traditional",C(e,"class","svelte-1b0c0r1"),S(e,"script-selector--active","traditional"==t[1])},m(t,n){g(t,e,n)},p(t,n){2&n&&S(e,"script-selector--active","traditional"==t[1])},d(t){t&&m(e)}}}function li(t){let e,n,r,s,i;return n=new Yt({props:{classes:["sy-tooltip--container"],$$slots:{default:[gi]},$$scope:{ctx:t}}}),n.$on("click",t[9]),{c(){e=v("div"),tt(n.$$.fragment),r=w(),s=v("div"),s.innerHTML='<div id="character-target" data-testid="character-target" class="svelte-1b0c0r1"></div>',C(e,"class","character-actions svelte-1b0c0r1"),C(s,"class","character-container svelte-1b0c0r1")},m(t,o){g(t,e,o),et(n,e,null),g(t,r,o),g(t,s,o),i=!0},p(t,e){const r={};262156&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){i||(K(n.$$.fragment,t),i=!0)},o(t){G(n.$$.fragment,t),i=!1},d(t){t&&m(e),nt(n),t&&m(r),t&&m(s)}}}function ci(e){let n;return{c(){n=v("div"),n.innerHTML="<h1>Character Data Not Found</h1> \n\t\t\t\t<p>The stroke order data cannot be found for at least one of the characters in this word.</p>",C(n,"class","character-window--character-not-found--container svelte-1b0c0r1")},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}function hi(t){let e,n;return e=new Ne({props:{size:"18"}}),{c(){tt(e.$$.fragment)},m(t,r){et(e,t,r),n=!0},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function ui(t){let e,n;return e=new Ve({props:{size:"18"}}),{c(){tt(e.$$.fragment)},m(t,r){et(e,t,r),n=!0},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function di(t){let e;return{c(){e=k("Play Stroke Order")},m(t,n){g(t,e,n)},d(t){t&&m(e)}}}function pi(t){let e;return{c(){e=k("Resume")},m(t,n){g(t,e,n)},d(t){t&&m(e)}}}function fi(t){let e;return{c(){e=k("Pause")},m(t,n){g(t,e,n)},d(t){t&&m(e)}}}function gi(t){let e,n,r,s,i,o,a;const l=[ui,hi],c=[];function h(t,e){return t[2]?1:0}function u(t,e){return t[2]?fi:t[3]?pi:di}n=h(t),r=c[n]=l[n](t);let d=u(t),p=d(t);return{c(){e=v("span"),r.c(),s=w(),i=v("div"),o=v("p"),p.c(),C(e,"class","animate-button--icon-container svelte-1b0c0r1"),C(e,"data-testid","control-button"),C(o,"data-testid","tooltip-text"),C(i,"class","sy-tooltip--body sy-tooltip--body-bottom")},m(t,r){g(t,e,r),c[n].m(e,null),g(t,s,r),g(t,i,r),f(i,o),p.m(o,null),a=!0},p(t,s){let i=n;n=h(t),n!==i&&(Q(),G(c[i],1,1,(()=>{c[i]=null})),X(),r=c[n],r||(r=c[n]=l[n](t),r.c()),K(r,1),r.m(e,null)),d!==(d=u(t))&&(p.d(1),p=d(t),p&&(p.c(),p.m(o,null)))},i(t){a||(K(r),a=!0)},o(t){G(r),a=!1},d(t){t&&m(e),c[n].d(),t&&m(s),t&&m(i),p.d()}}}function mi(t){let e,n,r,s,i,o,a,l,c,h,u;r=new Yt({props:{style:"ghost",size:"large",$$slots:{default:[oi]},$$scope:{ctx:t}}}),r.$on("click",t[7]),i=new Yt({props:{style:"ghost",size:"large",$$slots:{default:[ai]},$$scope:{ctx:t}}}),i.$on("click",t[8]);const d=[ci,li],p=[];function _(t,e){return t[4]?0:1}return c=_(t),h=p[c]=d[c](t),{c(){e=v("div"),n=v("div"),tt(r.$$.fragment),s=w(),tt(i.$$.fragment),a=w(),l=v("div"),h.c(),C(n,"class","script-selector-container svelte-1b0c0r1"),C(n,"data-tauri-drag-region",o=!!t[0]||void 0),C(l,"class","character-window--content svelte-1b0c0r1"),C(e,"class","character-window-container svelte-1b0c0r1")},m(t,o){g(t,e,o),f(e,n),et(r,n,null),f(n,s),et(i,n,null),f(e,a),f(e,l),p[c].m(l,null),u=!0},p(t,[e]){const s={};262146&e&&(s.$$scope={dirty:e,ctx:t}),r.$set(s);const a={};262146&e&&(a.$$scope={dirty:e,ctx:t}),i.$set(a),(!u||1&e&&o!==(o=!!t[0]||void 0))&&C(n,"data-tauri-drag-region",o);let f=c;c=_(t),c===f?p[c].p(t,e):(Q(),G(p[f],1,1,(()=>{p[f]=null})),X(),h=p[c],h?h.p(t,e):(h=p[c]=d[c](t),h.c()),K(h,1),h.m(l,null))},i(t){u||(K(r.$$.fragment,t),K(i.$$.fragment,t),K(h),u=!0)},o(t){G(r.$$.fragment,t),G(i.$$.fragment,t),G(h),u=!1},d(t){t&&m(e),nt(r),nt(i),p[c].d()}}}ii._loadingManager=null,ii._loadingOptions=null;function _i(t,e,n){let r,s=!1;window.__TAURI__.os.platform().then((t=>{n(0,s="darwin"===t)}));let i,o,a=[],l="simplified",c=!1,h=!1,u=!1;const d=()=>window.matchMedia("(prefers-color-scheme: dark)").matches,p=t=>{n(1,l=t),n(2,c=!1),n(3,h=!1),f(r[l])},f=t=>{n(4,u=!1),j().then((()=>{document.getElementById("character-target").innerHTML="",a=[];for(let r=0;r<t.length;r++)e=t[r],o=ii.create("character-target",e,{width:200,height:200,padding:5,strokeColor:d()?"#FFFFFF":"#474C5A",outlineColor:d()?"#999999":"#DDDDDD",charDataLoader:(t,e)=>{fetch(`resources/hanzi-writer-data/data/${t}.json`).then((t=>t.json())).then((t=>{e(t)})).catch((t=>{n(4,u=!0),console.log(t)}))}}),a.push(o);var e}))},g=(t,e)=>{if(e){n(2,c=!0);for(let t=0;t<a.length;t++)a[t].hideCharacter()}t>=0&&t<a.length?(i=t,a[t].animateCharacter({onComplete:()=>g(t+1,!1)})):(n(2,c=!1),n(3,h=!1))},m=()=>{c?(n(3,h=!0),n(2,c=!1),a[i].pauseAnimation()):h?(n(3,h=!1),n(2,c=!0),a[i].resumeAnimation()):g(0,!0)};window.__TAURI__.event.listen("display-characters",(t=>{r=t.payload,f(r[l])})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(t=>{f(r[l])}));return[s,l,c,h,u,p,m,()=>p("simplified"),()=>p("traditional"),()=>m()]}class vi extends st{constructor(t){super(),rt(this,t,_i,mi,o,{})}}let $i;const ki=document.getElementById("app"),wi=document.getElementById("characters");return ki?$i=new Hr({target:ki}):wi&&($i=new vi({target:wi})),$i}();
//# sourceMappingURL=bundle.js.map
